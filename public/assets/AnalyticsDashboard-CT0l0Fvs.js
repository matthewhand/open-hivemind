import{an as b,r as n,j as e}from"./index-RnQI40tk.js";import{M as r}from"./MetricChart-DObaqncI.js";import{S as y}from"./StatusCard-CPnoqqGm.js";import"./react-Dqn7FESC.js";import"./redux-CHunf9nH.js";import"./charts-BQCo6uAH.js";import"./router-muBVCOlq.js";const B=()=>{const{messageFlow:c,performanceMetrics:f,botStats:N}=b(),[u,h]=n.useState(null),[w,A]=n.useState(null),[S,D]=n.useState(null),[o,g]=n.useState("24h"),[d,m]=n.useState(!0);n.useEffect(()=>{l();const t=setInterval(()=>{l()},3e4);return()=>clearInterval(t)},[o]);const l=async()=>{try{const t={usageMetrics:{totalMessages:15420,activeUsers:234,totalBots:8,avgResponseTime:145,messageVolume:[{timestamp:new Date(Date.now()-216e5).toISOString(),value:120},{timestamp:new Date(Date.now()-18e6).toISOString(),value:180},{timestamp:new Date(Date.now()-144e5).toISOString(),value:220},{timestamp:new Date(Date.now()-108e5).toISOString(),value:190},{timestamp:new Date(Date.now()-72e5).toISOString(),value:250},{timestamp:new Date(Date.now()-36e5).toISOString(),value:310},{timestamp:new Date().toISOString(),value:280}]},userEngagement:{dailyActiveUsers:234,weeklyActiveUsers:892,monthlyActiveUsers:2156,avgSessionDuration:1250,retentionRate:78.5,userGrowth:12.3},featureAdoption:{chatInterface:95.2,botManagement:78.6,analytics:62.1,configuration:45.8,apiAccess:23.4,advancedFeatures:15.2},performance:{avgLatency:145,p95Latency:280,p99Latency:450,errorRate:.8,throughput:1240,availability:99.8}};h(t),m(!1)}catch(t){console.error("Failed to fetch analytics data:",t),m(!1)}},s=u||{usageMetrics:{totalMessages:15420,totalBots:8,avgResponseTime:145},userEngagement:{dailyActiveUsers:234,weeklyActiveUsers:892,monthlyActiveUsers:2156,avgSessionDuration:1250,retentionRate:78.5},featureAdoption:{chatInterface:95.2,botManagement:78.6,analytics:62.1,configuration:45.8,apiAccess:23.4,advancedFeatures:15.2},performance:{avgLatency:145,p95Latency:280,errorRate:.8,throughput:1240,availability:99.8}},x=[{title:"Total Messages",subtitle:"All-time message count",status:"healthy",metrics:[{label:"Messages",value:s.usageMetrics.totalMessages.toLocaleString(),icon:"ðŸ’¬"},{label:"Today",value:"2,847",trend:"up",trendValue:18},{label:"This Week",value:"18,234",trend:"up",trendValue:12},{label:"Growth",value:23,unit:"%",trend:"up",trendValue:5}]},{title:"Active Users",subtitle:"User engagement metrics",status:"healthy",metrics:[{label:"Daily Active",value:s.userEngagement.dailyActiveUsers,trend:"up",trendValue:8},{label:"Weekly Active",value:s.userEngagement.weeklyActiveUsers,trend:"up",trendValue:12},{label:"Monthly Active",value:s.userEngagement.monthlyActiveUsers,trend:"up",trendValue:15},{label:"Retention",value:s.userEngagement.retentionRate,unit:"%",trend:"stable"}]},{title:"Bot Performance",subtitle:"Bot activity and health",status:s.performance.errorRate>2?"warning":"healthy",metrics:[{label:"Total Bots",value:s.usageMetrics.totalBots,icon:"ðŸ¤–"},{label:"Active Bots",value:7,icon:"âœ…"},{label:"Avg Response",value:s.usageMetrics.avgResponseTime,unit:"ms",trend:"down",trendValue:-8},{label:"Error Rate",value:s.performance.errorRate,unit:"%",trend:"down",trendValue:-15}]},{title:"System Health",subtitle:"Overall system performance",status:s.performance.availability>99?"healthy":"warning",metrics:[{label:"Availability",value:s.performance.availability,unit:"%"},{label:"Avg Latency",value:s.performance.avgLatency,unit:"ms",trend:"stable"},{label:"P95 Latency",value:s.performance.p95Latency,unit:"ms"},{label:"Throughput",value:s.performance.throughput,unit:"req/s",trend:"up",trendValue:6}]}],p=()=>Object.entries(s.featureAdoption).map(([t,a])=>({timestamp:new Date().toISOString(),value:a,label:t.replace(/([A-Z])/g," $1").trim(),category:"feature"})),v=()=>{const t=new Date;return Array.from({length:24},(a,i)=>({timestamp:new Date(t.getTime()-(23-i)*36e5).toISOString(),value:s.performance.avgLatency+(Math.random()-.5)*50,label:"Latency",category:"performance"}))},j=()=>{const t=new Date;return Array.from({length:30},(a,i)=>({timestamp:new Date(t.getTime()-(29-i)*864e5).toISOString(),value:Math.max(50,s.userEngagement.dailyActiveUsers+(Math.random()-.5)*100),label:"Daily Active Users",category:"users"}))};return e.jsxs("div",{className:"min-h-screen bg-base-200 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-lg text-neutral-content/70",children:"Usage metrics, user engagement, and performance analytics"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{className:"select select-bordered",value:o,onChange:t=>g(t.target.value),children:[e.jsx("option",{value:"1h",children:"Last Hour"}),e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]}),e.jsxs("button",{className:"btn btn-primary",onClick:l,disabled:d,children:[d?e.jsx("span",{className:"loading loading-spinner loading-sm"}):"ðŸ”„"," Refresh"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:x.map((t,a)=>e.jsx(y,{title:t.title,subtitle:t.subtitle,status:t.status,metrics:t.metrics,compact:!0},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(r,{title:"Message Volume Trends",data:s.usageMetrics.messageVolume||[],type:"area",color:"#8b5cf6",unit:"messages",height:350}),e.jsx(r,{title:"User Growth",data:j(),type:"line",color:"#10b981",height:350})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(r,{title:"Feature Adoption Rate",data:p(),type:"bar",color:"#f59e0b",unit:"%",height:350}),e.jsx(r,{title:"Response Time Trends",data:v(),type:"line",color:"#ef4444",unit:"ms",height:350})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title mb-4",children:"Top Performing Bots"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bot Name"}),e.jsx("th",{children:"Messages"}),e.jsx("th",{children:"Avg Response"}),e.jsx("th",{children:"Success Rate"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Support Bot"}),e.jsx("td",{children:"5,234"}),e.jsx("td",{children:"120ms"}),e.jsx("td",{children:e.jsx("span",{className:"text-success",children:"98.5%"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Sales Assistant"}),e.jsx("td",{children:"3,892"}),e.jsx("td",{children:"145ms"}),e.jsx("td",{children:e.jsx("span",{className:"text-success",children:"97.2%"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"FAQ Bot"}),e.jsx("td",{children:"2,156"}),e.jsx("td",{children:"95ms"}),e.jsx("td",{children:e.jsx("span",{className:"text-success",children:"99.1%"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Analytics Bot"}),e.jsx("td",{children:"1,847"}),e.jsx("td",{children:"180ms"}),e.jsx("td",{children:e.jsx("span",{className:"text-warning",children:"95.8%"})})]})]})]})})]})}),e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title mb-4",children:"User Activity Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-content/70",children:"Peak Activity Time"}),e.jsx("span",{className:"font-semibold",children:"2:00 PM - 4:00 PM"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-content/70",children:"Avg Session Duration"}),e.jsxs("span",{className:"font-semibold",children:[Math.floor(s.userEngagement.avgSessionDuration/60),"m ",s.userEngagement.avgSessionDuration%60,"s"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-content/70",children:"Messages per User"}),e.jsx("span",{className:"font-semibold",children:"24.3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-content/70",children:"Most Active Day"}),e.jsx("span",{className:"font-semibold",children:"Tuesday"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-content/70",children:"User Satisfaction"}),e.jsx("span",{className:"font-semibold text-success",children:"4.7/5.0"})]})]})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title mb-4",children:"Recent Activity Stream"}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[c.slice(0,10).map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded bg-base-200",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¬"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t.source||"Unknown"}),e.jsx("p",{className:"text-xs text-neutral-content/60",children:t.timestamp?new Date(t.timestamp).toLocaleTimeString():"Just now"})]})]},a)),c.length===0&&e.jsx("p",{className:"text-center text-neutral-content/50 py-4",children:"No recent activity"})]})]})})})]})};export{B as default};
