import{r as c,j as e,B as u,z as g,T as j,F as C,C as y,a as w,S as m,b}from"./index-RnQI40tk.js";import{T as h}from"./TextField-DC-0rrgg.js";import{a as N}from"./router-muBVCOlq.js";import"./react-Dqn7FESC.js";import"./redux-CHunf9nH.js";import"./charts-BQCo6uAH.js";import"./Select-iYrgATPy.js";import"./useSlotProps-CNI6Fs2q.js";import"./useControlled-BELcKehV.js";const O=()=>{const d=N(),[t,x]=c.useState({name:"",description:"",platform:"discord",persona:"friendly-helper",llmProvider:"openai"}),[o,p]=c.useState(!1),[n,r]=c.useState(null),f=[{label:"Bots",href:"/uber/bots"},{label:"Create Bot",href:"/uber/bots/create",isActive:!0}],v=async a=>{a.preventDefault(),p(!0);try{const l=await fetch("/api/webui/bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(l.ok)r({type:"success",message:"Bot created successfully!"}),setTimeout(()=>d("/uber/bots"),2e3);else{const i=await l.json();r({type:"error",message:i.message||"Failed to create bot"})}}catch{r({type:"error",message:"Network error occurred"})}finally{p(!1)}},s=(a,l)=>{x(i=>({...i,[a]:l}))};return e.jsxs(u,{sx:{p:3,maxWidth:800,mx:"auto"},children:[e.jsx(g,{items:f}),e.jsx(j,{variant:"h4",gutterBottom:!0,sx:{mt:2},children:"Create New Bot"}),n&&e.jsx(C,{status:n.type==="success"?"success":"error",message:n.message,onClose:()=>r(null)}),e.jsx(y,{sx:{mt:3},children:e.jsx(w,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(u,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(h,{label:"Bot Name",value:t.name,onChange:a=>s("name",a.target.value),required:!0,fullWidth:!0,helperText:"Enter a unique name for your bot"}),e.jsx(h,{label:"Description",value:t.description,onChange:a=>s("description",a.target.value),multiline:!0,rows:3,fullWidth:!0,helperText:"Describe what this bot will do"}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Platform"})}),e.jsx(m,{options:[{value:"discord",label:"Discord"},{value:"slack",label:"Slack"},{value:"mattermost",label:"Mattermost"},{value:"telegram",label:"Telegram"}],value:t.platform,onChange:a=>s("platform",a.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Persona"})}),e.jsx(m,{options:[{value:"friendly-helper",label:"Friendly Helper"},{value:"dev-assistant",label:"Developer Assistant"},{value:"teacher",label:"Teacher"}],value:t.persona,onChange:a=>s("persona",a.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"LLM Provider"})}),e.jsx(m,{options:[{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic"},{value:"openwebui",label:"Open WebUI"},{value:"flowise",label:"Flowise"}],value:t.llmProvider,onChange:a=>s("llmProvider",a.target.value)})]}),e.jsxs(u,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(b,{variant:"outlined",onClick:()=>d("/uber/bots"),disabled:o,children:"Cancel"}),e.jsx(b,{type:"submit",variant:"contained",disabled:o||!t.name,children:o?"Creating...":"Create Bot"})]})]})})})})]})};export{O as default};
