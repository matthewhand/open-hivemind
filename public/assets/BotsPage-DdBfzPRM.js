import{r as h,M as $,L as F,j as e,v as I,D as J,w as U,x as R,y as q,z as te}from"./index-RnQI40tk.js";import{c as B,S as W,X as Q,P as O,U as G,a as H,C as re,b as le,T as ne}from"./x-uu1AjmvU.js";import{a as oe}from"./router-muBVCOlq.js";import"./react-Dqn7FESC.js";import"./redux-CHunf9nH.js";import"./charts-BQCo6uAH.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ce=B("book-open",ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ue=B("ellipsis-vertical",de);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pe=B("funnel",me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xe=B("play",he);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_=B("settings",be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ve=B("square",ge),X=()=>{const[a,n]=h.useState([]),[c,l]=h.useState(!1),[y,x]=h.useState(null),j=()=>Math.random().toString(36).substr(2,9),N=h.useCallback((u,r)=>{const b={id:j(),name:u||"New Bot",description:r,status:"stopped",messageProviders:[],llmProviders:[],createdAt:new Date().toISOString(),lastActive:null,error:null};return n(s=>[...s,b]),b},[]),g=h.useCallback((u,r)=>{n(b=>b.map(s=>s.id===u?{...s,...r}:s))},[]),P=h.useCallback(u=>{n(r=>r.filter(b=>b.id!==u))},[]),C=h.useCallback(u=>{const r=a.find(s=>s.id===u);if(!r)return null;const b={...r,id:j(),name:`${r.name} (Clone)`,status:"stopped",createdAt:new Date().toISOString(),lastActive:null,error:null};return n(s=>[...s,b]),b},[a]),f=h.useCallback(async u=>{try{return l(!0),x(null),g(u,{status:"starting",error:null}),await new Promise(r=>setTimeout(r,1e3)),g(u,{status:"running",lastActive:new Date().toISOString(),error:null}),!0}catch(r){const b=r instanceof Error?r.message:"Failed to start bot";return g(u,{status:"error",error:b}),x(b),!1}finally{l(!1)}},[g]),A=h.useCallback(async u=>{try{return l(!0),x(null),g(u,{status:"stopping"}),await new Promise(r=>setTimeout(r,500)),g(u,{status:"stopped",error:null}),!0}catch(r){const b=r instanceof Error?r.message:"Failed to stop bot";return g(u,{status:"error",error:b}),x(b),!1}finally{l(!1)}},[g]),w=h.useCallback(u=>a.find(r=>r.id===u)||null,[a]),d=h.useCallback(u=>a.filter(r=>r.status===u),[a]),p=h.useCallback(()=>{x(null)},[]);return{bots:a,loading:c,error:y,createBot:N,updateBot:g,deleteBot:P,cloneBot:C,startBot:f,stopBot:A,getBot:w,getBotsByStatus:d,clearError:p}},fe=()=>{const{updateBot:a}=X(),n=()=>Math.random().toString(36).substr(2,9),c=h.useCallback((w,d,p,u)=>{const r=$[d];if(!r)throw new Error(`Unknown message provider type: ${d}`);return{id:n(),type:d,name:p||r.name,config:u,status:"disconnected",lastConnected:null,error:null}},[]),l=h.useCallback((w,d,p,u)=>{const r=F[d];if(!r)throw new Error(`Unknown LLM provider type: ${d}`);return{id:n(),type:d,name:p||r.name,config:u,status:"unavailable",lastConnected:null,error:null}},[]),y=h.useCallback((w,d,p,u)=>{const r=c(w,d,p,u);return a(w,b=>({...b,messageProviders:[...b.messageProviders,r]})),r},[c,a]),x=h.useCallback((w,d,p,u)=>{const r=l(w,d,p,u);return a(w,b=>({...b,llmProviders:[...b.llmProviders,r]})),r},[l,a]),j=h.useCallback((w,d,p)=>{a(w,u=>{const r=u.messageProviders.map(s=>s.id===d?{...s,...p}:s),b=u.llmProviders.map(s=>s.id===d?{...s,...p}:s);return{...u,messageProviders:r,llmProviders:b}})},[a]),N=h.useCallback((w,d)=>{a(w,p=>({...p,messageProviders:p.messageProviders.filter(u=>u.id!==d),llmProviders:p.llmProviders.filter(u=>u.id!==d)}))},[a]),g=h.useCallback(async(w,d)=>{try{return j(w,d,{status:"testing",error:null}),await new Promise(p=>setTimeout(p,1e3)),a(w,p=>{const u=p.messageProviders.find(b=>b.id===d),r=p.llmProviders.find(b=>b.id===d);if(u){const b=p.messageProviders.map(s=>s.id===d?{...s,status:"connected",lastConnected:new Date().toISOString(),error:null}:s);return{...p,messageProviders:b}}if(r){const b=p.llmProviders.map(s=>s.id===d?{...s,status:"available",lastConnected:new Date().toISOString(),error:null}:s);return{...p,llmProviders:b}}return p}),!0}catch(p){const u=p instanceof Error?p.message:"Connection test failed";return a(w,r=>{const b=r.messageProviders.find(o=>o.id===d),s=r.llmProviders.find(o=>o.id===d);if(b){const o=r.messageProviders.map(t=>t.id===d?{...t,status:"error",error:u}:t);return{...r,messageProviders:o}}if(s){const o=r.llmProviders.map(t=>t.id===d?{...t,status:"error",error:u}:t);return{...r,llmProviders:o}}return r}),!1}},[a,j]),P=h.useCallback(()=>Object.keys($),[]),C=h.useCallback(()=>Object.keys(F),[]),f=h.useCallback(w=>$[w],[]),A=h.useCallback(w=>F[w],[]);return{addMessageProvider:y,addLLMProvider:x,updateProvider:j,removeProvider:N,testProvider:g,getAvailableMessageProviders:P,getAvailableLLMProviders:C,getMessageProviderConfig:f,getLLMProviderConfig:A}},ye=()=>{const[a,n]=h.useState({isOpen:!1,providerType:"message",isEdit:!1,provider:null,botId:null}),c=h.useCallback((N,g)=>{n({isOpen:!0,providerType:g,isEdit:!1,provider:null,botId:N})},[]),l=h.useCallback((N,g,P)=>{n({isOpen:!0,providerType:g,isEdit:!0,provider:P,botId:N})},[]),y=h.useCallback(()=>{n(N=>({...N,isOpen:!1,provider:null,botId:null}))},[]),x=h.useCallback(()=>{n({isOpen:!1,providerType:"message",isEdit:!1,provider:null,botId:null})},[]),j=h.useCallback(N=>{n(g=>({...g,...N}))},[]);return{modalState:a,openAddModal:c,openEditModal:l,closeModal:y,resetModal:x,updateModalState:j}},je=({provider:a,type:n,onRemove:c,onEdit:l,disabled:y=!1,showPrimary:x=!1,isPrimary:j=!1})=>{const N=f=>{switch(f){case"connected":case"available":return"badge-success";case"disconnected":case"unavailable":return"badge-warning";case"error":return"badge-error";default:return"badge-ghost"}},g=f=>{switch(f){case"connected":return"Connected";case"disconnected":return"Disconnected";case"available":return"Available";case"unavailable":return"Unavailable";case"error":return"Error";default:return f}},P=f=>({discord:"ðŸ’¬",telegram:"âœˆï¸",slack:"ðŸ“±",webhook:"ðŸ”—",openai:"ðŸ¤–",anthropic:"ðŸ§ ",ollama:"ðŸ¦™",huggingface:"ðŸ¤—",custom:"âš™ï¸"})[f]||"â“",C=f=>({discord:"Discord",telegram:"Telegram",slack:"Slack",webhook:"Webhook",openai:"OpenAI",anthropic:"Anthropic",ollama:"Ollama",huggingface:"Hugging Face",custom:"Custom"})[f]||f;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`
        chip bg-base-200 border border-base-300
        hover:bg-base-300 transition-colors duration-200
        ${y?"opacity-60 cursor-not-allowed":""}
      `,children:e.jsxs("div",{className:"chip-content flex items-center gap-2 px-3 py-2",children:[e.jsx("span",{className:"text-lg",children:P(a.type)}),e.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[e.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:a.name}),e.jsx("span",{className:"text-xs text-base-content/60 truncate max-w-[120px]",children:C(a.type)})]}),e.jsx(I,{color:N(a.status),size:"xs",className:"ml-1",children:g(a.status)}),e.jsxs("div",{className:"flex gap-1 ml-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[l&&!y&&e.jsx("button",{onClick:l,className:"btn btn-xs btn-circle btn-ghost",title:"Edit provider",children:e.jsx(W,{className:"w-3 h-3"})}),c&&!y&&e.jsx("button",{onClick:c,className:"btn btn-xs btn-circle btn-ghost",title:"Remove provider",children:e.jsx(Q,{className:"w-3 h-3"})})]})]})}),x&&j&&e.jsx("div",{className:"absolute -top-2 -right-2 z-10",children:e.jsx("span",{className:"badge badge-primary badge-xs",children:"Primary"})}),y&&e.jsx("div",{className:"absolute inset-0 bg-base-300/20 rounded-lg pointer-events-none"})]})},K=({providers:a,type:n,onRemove:c,onEdit:l,disabled:y=!1})=>a.length===0?e.jsx("div",{className:`
        bg-base-200/50 border border-dashed border-base-300
        rounded-lg p-4 text-center
        ${y?"opacity-50":""}
      `,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-2",children:[e.jsx(O,{className:"w-8 h-8 text-base-content/30 mb-2"}),e.jsxs("p",{className:"text-sm text-base-content/60 font-medium",children:["No ",n," providers configured"]}),e.jsxs("p",{className:"text-xs text-base-content/40 mt-1",children:["Click the + button to add a ",n," provider"]}),n==="message"&&e.jsx("p",{className:"text-xs text-base-content/40 mt-1",children:"Multiple message providers will be connected simultaneously"}),n==="llm"&&e.jsx("p",{className:"text-xs text-base-content/40 mt-1",children:"First LLM provider will be primary, others as fallback"})]})}):e.jsxs("div",{className:"space-y-2",children:[n==="llm"&&a.length>0&&e.jsx("div",{className:"text-xs text-base-content/60 mb-2 italic",children:"ðŸ’¡ First provider is primary, others serve as fallback"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((x,j)=>e.jsx(je,{provider:x,type:n,onRemove:()=>c?.(x.id),onEdit:()=>l?.(x),disabled:y,showPrimary:n==="llm"&&j===0,isPrimary:n==="llm"&&j===0},x.id))}),n==="message"&&a.length>0&&e.jsx("div",{className:"text-xs text-base-content/60 mt-2 italic",children:"ðŸ“¡ All message providers are connected simultaneously"})]}),Z=({persona:a,size:n="md",variant:c="default",showUsage:l=!1,onEdit:y,onRemove:x,clickable:j=!1,onClick:N})=>{const g=f=>({general:"neutral",customer_service:"primary",creative:"secondary",technical:"accent",educational:"info",entertainment:"warning",professional:"success"})[f]||"neutral",P=()=>({sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"})[n],C=()=>{j&&N&&N()};return e.jsxs("div",{className:`
        inline-flex items-center gap-2 rounded-full border
        ${P()}
        ${c==="outline"?"border-current bg-transparent":""}
        ${c==="ghost"?"border-transparent bg-base-200/50":"bg-base-100"}
        ${j?"cursor-pointer hover:bg-base-200 transition-colors":""}
        ${a.isBuiltIn?"border-info/30":""}
      `,onClick:C,title:`${a.name}${a.isBuiltIn?" (Built-in)":""}
${a.description}`,children:[e.jsx("div",{className:`
          w-2 h-2 rounded-full
          bg-${g(a.category)}
        `}),e.jsx("span",{className:"font-medium truncate max-w-32",children:a.name}),a.isBuiltIn&&e.jsx(I,{color:"info",size:"xs",variant:"outline",className:"ml-1",children:"BUILTIN"}),l&&a.usageCount>0&&e.jsx(I,{color:"neutral",size:"xs",variant:"ghost",className:"ml-1",children:a.usageCount}),(y||x)&&e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[y&&!a.isBuiltIn&&e.jsx("button",{onClick:f=>{f.stopPropagation(),y()},className:"w-4 h-4 rounded hover:bg-base-300 flex items-center justify-center",title:"Edit persona",children:"âœï¸"}),x&&!a.isBuiltIn&&e.jsx("button",{onClick:f=>{f.stopPropagation(),x()},className:"w-4 h-4 rounded hover:bg-error/20 flex items-center justify-center",title:"Remove persona",children:"âœ•"})]})]})},Ne=({personas:a,selectedPersonaId:n,onPersonaSelect:c,onCreatePersona:l,allowCreate:y=!0,showUsage:x=!1,placeholder:j="Select a persona...",size:N="full"})=>{const[g,P]=h.useState(""),[C,f]=h.useState("all"),[A,w]=h.useState(!1),d=[{value:"all",label:"All Personas",color:"neutral"},{value:"general",label:"General",color:"neutral"},{value:"customer_service",label:"Customer Service",color:"primary"},{value:"creative",label:"Creative",color:"secondary"},{value:"technical",label:"Technical",color:"accent"},{value:"educational",label:"Educational",color:"info"},{value:"entertainment",label:"Entertainment",color:"warning"},{value:"professional",label:"Professional",color:"success"}],p=h.useMemo(()=>{let s=a;if(C!=="all"&&(s=s.filter(o=>o.category===C)),g.trim()){const o=g.toLowerCase();s=s.filter(t=>t.name.toLowerCase().includes(o)||t.description.toLowerCase().includes(o)||t.traits.some(i=>i.name.toLowerCase().includes(o)||i.value.toLowerCase().includes(o)))}return s},[a,C,g]),u=a.find(s=>s.id===n)||J,r=s=>{c(s),N==="compact"&&w(!1)},b=()=>{P(""),f("all")};return N==="compact"?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`
            flex items-center gap-2 p-3 border rounded-lg cursor-pointer
            bg-base-100 border-base-300 hover:bg-base-200 transition-colors
          `,onClick:()=>w(!A),children:[e.jsx(G,{className:"w-4 h-4 text-base-content/60"}),e.jsx("span",{className:"flex-1 text-sm",children:u.name}),e.jsxs("div",{className:"text-xs text-base-content/50",children:[p.length," available"]})]}),A&&e.jsx(U,{className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-80 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-base-content/40"}),e.jsx(R,{placeholder:"Search personas...",value:g,onChange:s=>P(s.target.value),className:"pl-10",size:"sm"})]}),e.jsx(q,{variant:"ghost",size:"sm",onClick:b,className:"px-2",children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:d.map(s=>e.jsx("button",{onClick:()=>f(s.value),className:`
                      px-2 py-1 text-xs rounded-full border transition-colors
                      ${C===s.value?`bg-${s.color} text-${s.color}-content border-${s.color}`:"border-base-300 hover:bg-base-200"}
                    `,children:s.label},s.value))}),e.jsx("div",{className:"space-y-2",children:p.length===0?e.jsx("div",{className:"text-center py-4 text-base-content/50 text-sm",children:"No personas found"}):p.map(s=>e.jsxs("div",{className:`
                        p-2 rounded-lg border cursor-pointer transition-colors
                        ${n===s.id?"border-primary bg-primary/10":"border-base-300 hover:bg-base-100"}
                      `,onClick:()=>r(s.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`
                              w-2 h-2 rounded-full
                              bg-${d.find(o=>o.value===s.category)?.color||"neutral"}
                            `}),e.jsx("span",{className:"font-medium text-sm",children:s.name}),s.isBuiltIn&&e.jsx(I,{color:"info",size:"xs",variant:"outline",children:"BUILTIN"})]}),x&&s.usageCount>0&&e.jsx(I,{color:"neutral",size:"xs",variant:"ghost",children:s.usageCount})]}),e.jsx("div",{className:"text-xs text-base-content/60 mt-1",children:s.description})]},s.id))}),y&&l&&e.jsx("div",{className:"mt-3 pt-3 border-t border-base-300",children:e.jsxs(q,{variant:"ghost",size:"sm",onClick:l,className:"w-full",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Create New Persona"]})})]})})]}):e.jsx(U,{className:"bg-base-100 border border-base-300",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-base-content",children:"Select Persona"}),y&&l&&e.jsxs(q,{variant:"primary",size:"sm",onClick:l,children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Create New"]})]}),n&&e.jsxs("div",{className:"mb-4 p-3 bg-base-200/50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-base-content/60 mb-1",children:"Currently selected:"}),e.jsx(Z,{persona:u,showUsage:x,size:"lg"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-base-content/40"}),e.jsx(R,{placeholder:"Search personas...",value:g,onChange:s=>P(s.target.value),className:"pl-10"})]}),e.jsx(q,{variant:"ghost",onClick:b,className:"px-3",children:e.jsx(pe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.map(s=>e.jsx("button",{onClick:()=>f(s.value),className:`
                px-3 py-1 text-sm rounded-full border transition-colors
                ${C===s.value?`bg-${s.color} text-${s.color}-content border-${s.color}`:"border-base-300 hover:bg-base-200"}
              `,children:s.label},s.value))}),e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:p.length===0?e.jsxs("div",{className:"text-center py-8 text-base-content/50",children:[e.jsx(G,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("div",{children:"No personas found"}),e.jsx("div",{className:"text-sm mt-1",children:"Try adjusting your filters or create a new persona"})]}):p.map(s=>e.jsx("div",{className:`
                  p-4 rounded-lg border cursor-pointer transition-all
                  ${n===s.id?"border-primary bg-primary/5 shadow-sm":"border-base-300 hover:bg-base-100 hover:shadow-sm"}
                `,onClick:()=>r(s.id),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`
                          w-3 h-3 rounded-full
                          bg-${d.find(o=>o.value===s.category)?.color||"neutral"}
                        `}),e.jsx("h4",{className:"font-semibold",children:s.name}),s.isBuiltIn&&e.jsx(I,{color:"info",size:"xs",variant:"outline",children:"BUILTIN"}),x&&s.usageCount>0&&e.jsxs(I,{color:"neutral",size:"xs",variant:"ghost",children:[s.usageCount," uses"]})]}),e.jsx("p",{className:"text-sm text-base-content/70 mb-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.traits.slice(0,3).map((o,t)=>e.jsxs(I,{color:"ghost",size:"xs",variant:"outline",children:[o.name,": ",o.value]},t)),s.traits.length>3&&e.jsxs(I,{color:"ghost",size:"xs",variant:"outline",children:["+",s.traits.length-3," more"]})]})]})})},s.id))})]})})},Ce={type:"message",providerType:"discord",displayName:"Discord",description:"Connect to Discord servers with your bot",icon:"ðŸ’¬",color:"#5865F2",defaultConfig:{intents:["GUILDS","GUILD_MESSAGES","MESSAGE_CONTENT"],presence:{status:"online"}},fields:[{name:"botToken",label:"Bot Token",type:"password",required:!0,description:"Your Discord bot token from the Developer Portal",placeholder:"MTk4NzA1MD... (Bot Token)",group:"Authentication"},{name:"clientId",label:"Client ID",type:"text",required:!0,description:"Your Discord application client ID",placeholder:"123456789012345678",group:"Authentication"},{name:"guildId",label:"Server ID (Optional)",type:"text",required:!1,description:"Specific Discord server to connect to (leave empty for all servers)",placeholder:"876543210987654321",group:"Connection"},{name:"intents",label:"Bot Intents",type:"multiselect",required:!0,description:"Gateway intents your bot requires",options:[{label:"Guilds",value:"GUILDS"},{label:"Guild Members",value:"GUILD_MEMBERS"},{label:"Guild Messages",value:"GUILD_MESSAGES"},{label:"Message Content",value:"MESSAGE_CONTENT"},{label:"Guild Message Reactions",value:"GUILD_MESSAGE_REACTIONS"},{label:"Direct Messages",value:"DIRECT_MESSAGES"}],defaultValue:["GUILDS","GUILD_MESSAGES","MESSAGE_CONTENT"],group:"Permissions"},{name:"commandPrefix",label:"Command Prefix",type:"text",required:!1,description:"Prefix for bot commands (e.g., !, /, ?)",placeholder:"!",defaultValue:"!",group:"Commands"},{name:"allowedChannels",label:"Allowed Channels",type:"text",required:!1,description:"Comma-separated list of channel IDs the bot can respond in (leave empty for all)",placeholder:"123456789012345678, 876543210987654321",group:"Permissions"},{name:"blockedChannels",label:"Blocked Channels",type:"text",required:!1,description:"Comma-separated list of channel IDs the bot cannot respond in",placeholder:"123456789012345678, 876543210987654321",group:"Permissions"}]},we={type:"message",providerType:"slack",displayName:"Slack",description:"Connect to Slack workspaces with your app",icon:"ðŸ”·",color:"#4A154B",defaultConfig:{socketMode:!0},fields:[{name:"botToken",label:"Bot Token",type:"password",required:!0,description:"Your Slack bot token starting with xoxb-",placeholder:"xoxb-[your-bot-token-here]",group:"Authentication"},{name:"appToken",label:"App Token",type:"password",required:!0,description:"Your Slack app token starting with xapp-",placeholder:"xapp-[your-app-token-here]",group:"Authentication"},{name:"signingSecret",label:"Signing Secret",type:"password",required:!0,description:"Your Slack app signing secret",placeholder:"[your-signing-secret-here]",group:"Authentication"},{name:"socketMode",label:"Socket Mode",type:"boolean",required:!0,description:"Use Socket Mode for real-time communication",defaultValue:!0,group:"Connection"},{name:"teamId",label:"Team ID (Optional)",type:"text",required:!1,description:"Specific Slack workspace to connect to (leave empty for all workspaces)",placeholder:"T[workspace-id]",group:"Connection"},{name:"channelId",label:"Default Channel (Optional)",type:"text",required:!1,description:"Default channel for bot messages",placeholder:"C[channel-id]",group:"Connection"},{name:"allowedChannels",label:"Allowed Channels",type:"text",required:!1,description:"Comma-separated list of channel IDs the bot can respond in (leave empty for all)",placeholder:"C[channel-id], D[channel-id]",group:"Permissions"},{name:"blockedUsers",label:"Blocked Users",type:"text",required:!1,description:"Comma-separated list of user IDs the bot cannot respond to",placeholder:"U[user-id], U[user-id]",group:"Permissions"}]},ke={type:"llm",providerType:"openai",displayName:"OpenAI",description:"Connect to OpenAI GPT models and compatible providers",icon:"ðŸ¤–",color:"#10A37F",defaultConfig:{model:"gpt-4",maxTokens:2048,temperature:.7},fields:[{name:"apiKey",label:"API Key",type:"password",required:!0,description:"Your OpenAI API key",placeholder:"sk-1234567890123456789012345678901234567890123456789012345678901234",group:"Authentication"},{name:"organizationId",label:"Organization ID (Optional)",type:"text",required:!1,description:"Your OpenAI organization ID",placeholder:"org-123456789012345678901234567890",group:"Authentication"},{name:"baseUrl",label:"Base URL (Optional)",type:"url",required:!1,description:"Custom API base URL for third-party OpenAI-compatible providers (OPENAI_BASE_URL)",placeholder:"https://api.openai.com/v1 or https://your-proxy.com/v1",group:"Third-Party Compatibility"},{name:"model",label:"Model",type:"model-autocomplete",required:!0,description:"Select or enter the GPT model to use. Models are automatically fetched from your API.",placeholder:"gpt-4-turbo-preview, gpt-4, gpt-3.5-turbo...",defaultValue:"gpt-4",group:"Model Configuration"},{name:"maxTokens",label:"Max Tokens",type:"number",required:!0,description:"Maximum number of tokens in the response",placeholder:"2048",defaultValue:2048,validation:{min:1,max:32768},group:"Model Configuration"},{name:"temperature",label:"Temperature",type:"number",required:!0,description:"Controls randomness (0 = deterministic, 2 = very creative)",placeholder:"0.7",defaultValue:.7,validation:{min:0,max:2},group:"Model Configuration"},{name:"topP",label:"Top P",type:"number",required:!1,description:"Controls diversity via nucleus sampling (0-1)",placeholder:"1",defaultValue:1,validation:{min:0,max:1},group:"Model Configuration"},{name:"frequencyPenalty",label:"Frequency Penalty",type:"number",required:!1,description:"Penalize repeated tokens (-2 to 2)",placeholder:"0",defaultValue:0,validation:{min:-2,max:2},group:"Model Configuration"},{name:"presencePenalty",label:"Presence Penalty",type:"number",required:!1,description:"Penalize presence of repeated tokens (-2 to 2)",placeholder:"0",defaultValue:0,validation:{min:-2,max:2},group:"Model Configuration"}]},Pe={type:"llm",providerType:"anthropic",displayName:"Anthropic Claude",description:"Connect to Anthropic Claude models and compatible providers",icon:"ðŸ§ ",color:"#D97757",defaultConfig:{model:"claude-3-sonnet-20240229",maxTokens:4096,temperature:.7},fields:[{name:"apiKey",label:"API Key",type:"password",required:!0,description:"Your Anthropic API key",placeholder:"sk-ant-1234567890123456789012345678901234567890123456789012345678901234",group:"Authentication"},{name:"baseUrl",label:"Base URL (Optional)",type:"url",required:!1,description:"Custom API base URL for third-party Anthropic-compatible providers (ANTHROPIC_BASE_URL)",placeholder:"https://api.anthropic.com or https://your-proxy.com",group:"Third-Party Compatibility"},{name:"model",label:"Model",type:"model-autocomplete",required:!0,description:"Select or enter the Claude model to use. Predefined models are shown, with support for custom models.",placeholder:"claude-3-opus-20240229, claude-3-sonnet-20240229, claude-3-haiku-20240307...",defaultValue:"claude-3-sonnet-20240229",group:"Model Configuration"},{name:"maxTokens",label:"Max Tokens",type:"number",required:!0,description:"Maximum number of tokens in the response",placeholder:"4096",defaultValue:4096,validation:{min:1,max:4096},group:"Model Configuration"},{name:"temperature",label:"Temperature",type:"number",required:!0,description:"Controls randomness (0 = deterministic, 1 = very creative)",placeholder:"0.7",defaultValue:.7,validation:{min:0,max:1},group:"Model Configuration"},{name:"topP",label:"Top P",type:"number",required:!1,description:"Controls diversity via nucleus sampling (0-1)",placeholder:"1",defaultValue:1,validation:{min:0,max:1},group:"Model Configuration"},{name:"topK",label:"Top K",type:"number",required:!1,description:"Controls diversity via top-k sampling",placeholder:"0",defaultValue:0,validation:{min:0,max:500},group:"Model Configuration"}]},Se={type:"llm",providerType:"ollama",displayName:"Ollama",description:"Connect to local Ollama instance and Ollama-compatible APIs",icon:"ðŸ¦™",color:"#FF6B35",defaultConfig:{endpoint:"http://localhost:11434",model:"llama2",maxTokens:2048,temperature:.7},fields:[{name:"endpoint",label:"API Endpoint",type:"url",required:!0,description:"URL of your Ollama server or Ollama-compatible API",placeholder:"http://localhost:11434 or https://your-ollama-compatible-api.com",defaultValue:"http://localhost:11434",group:"Connection"},{name:"model",label:"Model",type:"model-autocomplete",required:!0,description:"Select or enter the Ollama model to use. Models are automatically fetched from your Ollama instance.",placeholder:"llama2, codellama, mistral, etc.",defaultValue:"llama2",group:"Model Configuration"},{name:"maxTokens",label:"Max Tokens",type:"number",required:!0,description:"Maximum number of tokens in the response",placeholder:"2048",defaultValue:2048,validation:{min:1,max:8192},group:"Model Configuration"},{name:"temperature",label:"Temperature",type:"number",required:!0,description:"Controls randomness (0 = deterministic, 2 = very creative)",placeholder:"0.7",defaultValue:.7,validation:{min:0,max:2},group:"Model Configuration"},{name:"topP",label:"Top P",type:"number",required:!1,description:"Controls diversity via nucleus sampling (0-1)",placeholder:"0.9",defaultValue:.9,validation:{min:0,max:1},group:"Model Configuration"},{name:"keepAlive",label:"Keep Alive",type:"text",required:!1,description:"How long to keep the model loaded in memory",placeholder:"5m",defaultValue:"5m",group:"Advanced"}]},Me={type:"message",providerType:"telegram",displayName:"Telegram",description:"Connect to Telegram with your bot",icon:"âœˆï¸",color:"#0088CC",defaultConfig:{parseMode:"HTML"},fields:[{name:"botToken",label:"Bot Token",type:"password",required:!0,description:"Your Telegram bot token from BotFather",placeholder:"1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789",group:"Authentication"},{name:"webhookUrl",label:"Webhook URL (Optional)",type:"url",required:!1,description:"URL for receiving updates (leave empty for polling)",placeholder:"https://your-domain.com/api/telegram/webhook",group:"Connection"},{name:"parseMode",label:"Parse Mode",type:"select",required:!0,description:"Format for message parsing",options:[{label:"HTML",value:"HTML"},{label:"Markdown",value:"Markdown"},{label:"None",value:""}],defaultValue:"HTML",group:"Message Configuration"},{name:"allowedChats",label:"Allowed Chat IDs",type:"text",required:!1,description:"Comma-separated list of chat IDs the bot can respond in (leave empty for all)",placeholder:"-1001234567890, 123456789",group:"Permissions"},{name:"blockedUsers",label:"Blocked Users",type:"text",required:!1,description:"Comma-separated list of user IDs the bot cannot respond to",placeholder:"123456789, 987654321",group:"Permissions"},{name:"enableCommands",label:"Enable Commands",type:"boolean",required:!1,description:"Enable bot commands (/start, /help, etc.)",defaultValue:!0,group:"Features"}]},Te={type:"message",providerType:"webhook",displayName:"Webhook",description:"Receive messages via HTTP webhook",icon:"ðŸ”—",color:"#6B7280",defaultConfig:{method:"POST",contentType:"application/json"},fields:[{name:"webhookUrl",label:"Webhook URL",type:"url",required:!0,description:"URL that will receive webhook messages",placeholder:"https://your-domain.com/api/webhook",group:"Configuration"},{name:"secret",label:"Secret Key",type:"password",required:!1,description:"Secret for validating webhook signatures",placeholder:"your-webhook-secret",group:"Security"},{name:"method",label:"HTTP Method",type:"select",required:!0,description:"HTTP method for webhook requests",options:[{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"}],defaultValue:"POST",group:"Configuration"},{name:"contentType",label:"Content Type",type:"select",required:!0,description:"Expected content type of webhook requests",options:[{label:"JSON",value:"application/json"},{label:"Form Data",value:"application/x-www-form-urlencoded"},{label:"Plain Text",value:"text/plain"}],defaultValue:"application/json",group:"Configuration"},{name:"allowedIPs",label:"Allowed IPs",type:"text",required:!1,description:"Comma-separated list of IP addresses that can send webhooks (leave empty for all)",placeholder:"192.168.1.1, 10.0.0.1",group:"Security"},{name:"autoResponse",label:"Auto Response",type:"boolean",required:!1,description:"Automatically send 200 OK response to webhooks",defaultValue:!0,group:"Behavior"}]},Ae={type:"mcp",providerType:"mcp",displayName:"MCP Provider",description:"Model Context Protocol server for external tools and data sources",icon:"ðŸ”—",color:"#3B82F6",fields:[{name:"name",label:"Provider Name",type:"text",required:!0,description:"A descriptive name for this MCP provider",placeholder:"e.g., File System Access, Web Scraper",validation:{minLength:2,maxLength:50,pattern:"^[a-zA-Z0-9\\s\\-_]+$"}},{name:"type",label:"Provider Type",type:"select",required:!0,description:"Desktop MCP servers typically run locally, Cloud MCP servers require remote configuration",options:[{value:"desktop",label:"Desktop - Local MCP server",description:"Runs locally on the same machine"},{value:"cloud",label:"Cloud - Remote MCP server",description:"Connects to remote MCP service"}],defaultValue:"desktop"},{name:"description",label:"Description",type:"textarea",required:!1,description:"Optional description of what this MCP provider does",placeholder:"e.g., Provides file system access for reading and writing files",validation:{maxLength:500}},{name:"command",label:"Command",type:"text",required:!0,description:"The command to start the MCP server process",placeholder:"e.g., npx, python, node, /usr/local/bin/mcp-server",validation:{minLength:1,maxLength:200}},{name:"args",label:"Arguments",type:"text",required:!1,description:"Command line arguments (space-separated or as JSON array)",placeholder:'e.g., --port 3000 --allow-file-system or ["--port", "3000", "--allow-file-system"]',validation:{maxLength:1e3}},{name:"envVars",label:"Environment Variables",type:"keyvalue",required:!1,description:"Environment variables for the MCP process (key=value pairs, one per line)",placeholder:`API_KEY=your_api_key_here
DATABASE_URL=postgresql://localhost/mydb`,validation:{maxItems:20}},{name:"timeout",label:"Timeout (seconds)",type:"number",required:!1,description:"Maximum time to wait for MCP server to start (default: 30 seconds)",placeholder:"30",validation:{min:5,max:300},defaultValue:30},{name:"autoRestart",label:"Auto Restart",type:"checkbox",required:!1,description:"Automatically restart the MCP server if it crashes",defaultValue:!0},{name:"healthCheckEnabled",label:"Enable Health Check",type:"checkbox",required:!1,description:"Periodically check if the MCP server is still running",defaultValue:!0},{name:"healthCheckInterval",label:"Health Check Interval (seconds)",type:"number",required:!1,description:"How often to check the MCP server health",placeholder:"60",validation:{min:10,max:3600},defaultValue:60,dependsOn:{field:"healthCheckEnabled",value:!0}},{name:"enabled",label:"Enable Provider",type:"checkbox",required:!1,description:"Enable this MCP provider for use with bots",defaultValue:!0}],defaultConfig:{name:"MCP Server",type:"desktop",command:"npx",args:"",timeout:30,autoRestart:!0,healthCheckEnabled:!0,healthCheckInterval:60,enabled:!0}},ee={discord:Ce,slack:we,telegram:Me,webhook:Te,openai:ke,anthropic:Pe,ollama:Se,mcp:Ae},z=a=>ee[a],Ee=a=>Object.values(ee).filter(n=>n.type===a),Le=({schema:a,initialConfig:n={},onConfigChange:c,onTestConnection:l,onAvatarLoad:y})=>{const[x,j]=h.useState(()=>({...a.defaultConfig,...n})),[N,g]=h.useState({}),[P,C]=h.useState(!1),[f,A]=h.useState(null),[w,d]=h.useState(null),p=a.fields.reduce((t,i)=>{const m=i.group||"General";return t[m]||(t[m]=[]),t[m].push(i),t},{}),u=(t,i)=>{if(t.required&&(!i||typeof i=="string"&&i.trim()===""))return`${t.label} is required`;if(t.validation&&i!==void 0&&i!==null&&i!==""){const{min:m,max:S,pattern:k}=t.validation;if(t.type==="number"||t.type==="text"){if(m!==void 0&&Number(i)<m)return`${t.label} must be at least ${m}`;if(S!==void 0&&Number(i)>S)return`${t.label} must be at most ${S}`}if(k&&typeof i=="string"&&!new RegExp(k).test(i))if(t.name==="apiKey"||t.type==="password")console.warn(`${t.label} format warning: Pattern validation failed for value starting with ${i.substring(0,8)}...`);else return`${t.label} format is invalid`;if(t.validation.custom){const T=t.validation.custom(i);if(T)return T}}return null},r=(t,i)=>{const m={...x,[t]:i};j(m);const S={...N};delete S[t],g(S);const k=a.fields.find(T=>T.name===t);if(k){const T=u(k,i);T&&(S[t]=T,g(S))}c(m),A(null),d(null)},b=async()=>{const t={};let i=!1;for(const m of a.fields)if(m.required){const S=u(m,x[m.name]);S&&(t[m.name]=S,i=!0)}if(i){g(t);return}if(l){C(!0),A(null);try{const m=await l(x);A({success:m,message:m?"Connection successful!":"Connection failed"})}catch(m){A({success:!1,message:m instanceof Error?m.message:"Connection test failed"})}finally{C(!1)}}},s=async()=>{if(y){C(!0),d(null);try{const t=await y(x);d(t)}catch(t){A({success:!1,message:t instanceof Error?t.message:"Failed to load avatar"})}finally{C(!1)}}},o=t=>{const i=x[t.name]??t.defaultValue??"",m=N[t.name],T=`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${m?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,D=()=>{switch(t.type){case"password":return e.jsx("input",{type:"password",value:i,onChange:M=>r(t.name,M.target.value),placeholder:t.placeholder,className:T});case"number":return e.jsx("input",{type:"number",value:i,onChange:M=>r(t.name,Number(M.target.value)),placeholder:t.placeholder,min:t.validation?.min,max:t.validation?.max,step:t.validation?.min&&t.validation?.min<1?"0.1":"1",className:T});case"url":return e.jsx("input",{type:"url",value:i,onChange:M=>r(t.name,M.target.value),placeholder:t.placeholder,className:T});case"select":return e.jsx("select",{value:i,onChange:M=>r(t.name,M.target.value),className:T,children:t.options?.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))});case"multiselect":return e.jsx("select",{multiple:!0,value:Array.isArray(i)?i:[],onChange:M=>{const v=Array.from(M.target.selectedOptions,E=>E.value);r(t.name,v)},className:`${T} h-24`,children:t.options?.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))});case"boolean":return e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!i,onChange:M=>r(t.name,M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable"})]});case"textarea":return e.jsx("textarea",{value:i,onChange:M=>r(t.name,M.target.value),placeholder:t.placeholder,rows:4,className:T});case"json":return e.jsx("textarea",{value:typeof i=="object"?JSON.stringify(i,null,2):i,onChange:M=>{try{const v=JSON.parse(M.target.value);r(t.name,v)}catch{r(t.name,M.target.value)}},placeholder:t.placeholder||'{"key": "value"}',rows:4,className:`${T} font-mono text-sm`});case"model-autocomplete":if(t.component){const M=t.component;return e.jsx(M,{value:i,onChange:v=>r(t.name,v),apiKey:x.apiKey,baseUrl:x.baseUrl||x.endpoint,onValidationError:v=>{t.name==="apiKey"?console.warn(`API Key validation warning: ${v}`):g(E=>({...E,[t.name]:v}))},onValidationSuccess:()=>{g(v=>{const{[t.name]:E,...V}=v;return V})},...t.componentProps})}break;default:return e.jsx("input",{type:"text",value:i,onChange:M=>r(t.name,M.target.value),placeholder:t.placeholder,className:T})}};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.label,t.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),D(),t.description&&e.jsx("p",{className:"text-xs text-gray-500",children:t.description}),m&&e.jsx("p",{className:"text-xs text-red-500",children:m})]},t.name)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 pb-4 border-b",children:[e.jsx("span",{className:"text-2xl",children:a.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.displayName}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),Object.entries(p).map(([t,i])=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 border-b pb-2",children:t}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(o)})]},t)),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[l&&e.jsx("button",{type:"button",onClick:b,disabled:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P?"Testing...":"Test Connection"}),y&&a.providerType!=="webhook"&&e.jsx("button",{type:"button",onClick:s,disabled:P,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P?"Loading...":"Load Avatar"})]}),f&&e.jsx("div",{className:`p-3 rounded-lg ${f.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:e.jsx("p",{className:`text-sm ${f.success?"text-green-800":"text-red-800"}`,children:f.message})}),w&&e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Avatar loaded successfully:"}),e.jsx("img",{src:w,alt:"Provider avatar",className:"w-12 h-12 rounded-full"})]})]})};class qe{async loadAvatar(n,c){try{switch(n){case"discord":return await this.loadDiscordAvatar(c);case"slack":return await this.loadSlackAvatar(c);case"telegram":return await this.loadTelegramAvatar(c);default:return null}}catch(l){return console.error(`Failed to load avatar for ${n}:`,l),null}}getSupportedProviders(){return["discord","slack","telegram"]}async loadDiscordAvatar(n){const{botToken:c}=n;if(!c)return null;try{const l=await fetch("/api/providers/discord/avatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botToken:c})});return l.ok?(await l.json()).avatarUrl:this.generateMockAvatar("discord",c)}catch(l){return console.error("Failed to load Discord avatar:",l),this.generateMockAvatar("discord",c)}}async loadSlackAvatar(n){const{botToken:c}=n;if(!c)return null;try{const l=await fetch("/api/providers/slack/avatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botToken:c})});return l.ok?(await l.json()).avatarUrl:this.generateMockAvatar("slack",c)}catch(l){return console.error("Failed to load Slack avatar:",l),this.generateMockAvatar("slack",c)}}async loadTelegramAvatar(n){const{botToken:c}=n;if(!c)return null;try{const l=await fetch("/api/providers/telegram/avatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botToken:c})});return l.ok?(await l.json()).avatarUrl:this.generateMockAvatar("telegram",c)}catch(l){return console.error("Failed to load Telegram avatar:",l),this.generateMockAvatar("telegram",c)}}generateMockAvatar(n,c){const l=c.substring(0,8);return`https://api.dicebear.com/7.x/${n==="discord"?"robots":n==="slack"?"identicon":"bottts"}/svg?seed=${l}&backgroundColor=${this.getProviderColor(n)}`}getProviderColor(n){return{discord:"5865F2",slack:"4A154B",telegram:"0088CC"}[n]||"6B7280"}}const Y=new qe,Ie=({isOpen:a,providerType:n,initialProvider:c,initialConfig:l,onClose:y,onSave:x})=>{const[j,N]=h.useState(""),[g,P]=h.useState({}),[C,f]=h.useState(null),[A,w]=h.useState(!1),[d,p]=h.useState("select"),u=Ee(n);h.useEffect(()=>{a&&(p(c?"configure":"select"),c?(N(c.type),P({...c.config,...l})):(N(""),P({})),f(null),w(!1))},[a,c,l]);const r=k=>{N(k);const T=z(k);T&&P({...T.defaultConfig}),p("configure")},b=k=>{P(k)},s=async k=>(console.log("Testing connection with config:",k),await new Promise(T=>setTimeout(T,1e3)),!0),o=async k=>Y.getSupportedProviders().includes(j)?(console.log("Loading avatar with config:",k),await Y.loadAvatar(j,k)):null,t=()=>{!j||!z(j)||(x(j,{...g,...C&&{avatarUrl:C}}),y())},i=()=>{p("select"),N(""),P({}),f(null)},m=()=>{p("select"),N(""),P({}),f(null),y()};if(!a)return null;const S=z(j);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[d==="configure"&&e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d==="select"?`Select ${n==="message"?"Message":"LLM"} Provider`:c?`Edit ${S?.displayName||"Provider"}`:`Configure ${S?.displayName||"Provider"}`})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:d==="select"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Choose a ",n==="message"?"messaging":"LLM"," provider to connect with your bot."]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(k=>e.jsx("button",{onClick:()=>r(k.providerType),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-left group",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:k.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700",children:k.displayName}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]})]})},k.providerType))})]}):S&&e.jsx(Le,{schema:S,initialConfig:g,onConfigChange:b,onTestConnection:s,onAvatarLoad:o})}),e.jsx("div",{className:"px-6 py-4 border-t bg-gray-50",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),d==="configure"&&e.jsx("button",{onClick:t,disabled:!j||A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Save Changes":"Add Provider"})]})})]})})},Oe=({bot:a,personas:n,onStartBot:c,onStopBot:l,onConfigureBot:y,onCloneBot:x,onDeleteBot:j,onAddProvider:N,onRemoveProvider:g,onPersonaChange:P})=>{const[C,f]=h.useState(!1),[A,w]=h.useState(!1),[d,p]=h.useState({isOpen:!1,providerType:"message"}),u=n.find(L=>L.id===a.personaId)||J,r=L=>{switch(L){case"running":return"badge-success";case"stopped":return"badge-ghost";case"error":return"badge-error";case"starting":return"badge-info";case"stopping":return"badge-warning";default:return"badge-ghost"}},b=L=>{switch(L){case"running":return"Running";case"stopped":return"Stopped";case"error":return"Error";case"starting":return"Starting";case"stopping":return"Stopping";default:return L}},s=a.status==="stopped"||a.status==="error",o=a.status==="running",t=a.messageProviders.length>0||a.llmProviders.length>0,i=()=>{c&&c(a.id)},m=()=>{l&&l(a.id)},S=()=>{y&&y(a.id),f(!1)},k=()=>{x&&x(a.id),f(!1)},T=()=>{j&&j(a.id),f(!1)},D=()=>{p({isOpen:!0,providerType:"message"})},M=()=>{p({isOpen:!0,providerType:"llm"})},v=L=>{p({isOpen:!0,providerType:L.type==="message"?"message":"llm",editingProvider:L})},E=L=>{g&&g(a.id,L)},V=()=>{p({isOpen:!1,providerType:"message"})},se=(L,ae)=>{d.editingProvider?console.log("Updating provider:",d.editingProvider.id,ae):N&&N(a.id,L),V()};return e.jsx("div",{className:"card bg-base-100 shadow-xl border border-base-300 hover:shadow-2xl transition-shadow duration-200",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"card-title text-lg font-semibold",children:a.name}),e.jsx(I,{color:r(a.status),size:"sm",children:b(a.status)})]}),a.description&&e.jsx("p",{className:"text-sm text-base-content/60 line-clamp-2",children:a.description}),a.error&&e.jsx("div",{className:"alert alert-error py-2 mt-2",children:e.jsx("span",{className:"text-xs",children:a.error})})]}),e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("button",{className:"btn btn-sm btn-ghost btn-circle",onClick:()=>f(!C),children:e.jsx(ue,{className:"w-4 h-4"})}),C&&e.jsxs("ul",{className:"dropdown-content menu p-2 shadow-lg bg-base-100 rounded-box w-52 z-10",children:[e.jsx("li",{children:e.jsxs("a",{onClick:S,className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Configure"]})}),e.jsx("li",{children:e.jsxs("a",{onClick:k,className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),"Clone"]})}),e.jsx("li",{children:e.jsxs("a",{onClick:T,className:"flex items-center gap-2 text-error",children:[e.jsx(ne,{className:"w-4 h-4"}),"Delete"]})})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-base-content/80",children:"Persona"}),e.jsx(I,{color:"neutral",size:"xs",children:u.isBuiltIn?"BUILTIN":"CUSTOM"})]}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>w(!A),disabled:a.status==="running",className:"px-2",children:e.jsx(W,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-3 bg-base-200/30 rounded-lg",children:e.jsx(Z,{persona:u,size:"lg",showUsage:!0,clickable:!1})}),A&&e.jsx("div",{className:"mt-3",children:e.jsx(Ne,{personas:n,selectedPersonaId:a.personaId,onPersonaSelect:L=>{P&&P(a.id,L),w(!1)},allowCreate:!0,onCreatePersona:()=>{window.location.href="/uber/personas"},size:"compact"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-base-content/80",children:"Message Providers"}),e.jsx(I,{color:"neutral",size:"xs",children:a.messageProviders.length})]}),e.jsx(q,{variant:"ghost",size:"sm",onClick:D,disabled:a.status==="running",className:"px-2",children:e.jsx(O,{className:"w-4 h-4"})})]}),e.jsx(K,{providers:a.messageProviders,type:"message",onRemove:E,onEdit:v,disabled:a.status==="running"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-base-content/80",children:"LLM Providers"}),e.jsx(I,{color:"neutral",size:"xs",children:a.llmProviders.length})]}),e.jsx(q,{variant:"ghost",size:"sm",onClick:M,disabled:a.status==="running",className:"px-2",children:e.jsx(O,{className:"w-4 h-4"})})]}),e.jsx(K,{providers:a.llmProviders,type:"llm",onRemove:E,onEdit:v,disabled:a.status==="running"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-base-content/60",children:[e.jsxs("div",{children:["Created: ",new Date(a.createdAt).toLocaleDateString()]}),a.lastActive&&e.jsxs("div",{children:["Last active: ",new Date(a.lastActive).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{variant:"ghost",size:"sm",onClick:S,children:[e.jsx(_,{className:"w-4 h-4"}),"Configure"]}),e.jsx(q,{variant:s?"success":"error",size:"sm",onClick:s?i:m,disabled:!s&&!o,className:t?"":"btn-disabled",children:s?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4"}),"Start"]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-4 h-4"}),"Stop"]})})]})]}),!t&&e.jsx("div",{className:"alert alert-warning py-3 mt-4",children:e.jsx("span",{className:"text-xs",children:"âš ï¸ This bot has no providers configured. Add message and LLM providers before starting."})}),e.jsx(Ie,{isOpen:d.isOpen,providerType:d.providerType,initialProvider:d.editingProvider,initialConfig:d.editingProvider?.config,onClose:V,onSave:se})]})})},Be=({onSubmit:a,onCancel:n})=>{const[c,l]=h.useState(""),[y,x]=h.useState(""),[j,N]=h.useState(!1),g=async C=>{if(C.preventDefault(),!!c.trim()){N(!0);try{a(c.trim(),y.trim()||void 0),l(""),x("")}catch(f){console.error("Failed to create bot:",f)}finally{N(!1)}}},P=()=>{l(""),x(""),n()};return e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Bot Name"}),e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx(R,{type:"text",placeholder:"Enter a name for your bot",value:c,onChange:C=>l(C.target.value),className:"input-bordered",required:!0,disabled:j})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description (Optional)"})}),e.jsx("textarea",{className:"textarea textarea-bordered",placeholder:"Describe what this bot does...",value:y,onChange:C=>x(C.target.value),rows:3,disabled:j})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(q,{type:"button",variant:"ghost",onClick:P,disabled:j,children:"Cancel"}),e.jsx(q,{type:"submit",variant:"primary",disabled:!c.trim()||j,className:"min-w-[100px]",children:j?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Creating..."]}):"Create Bot"})]})]})},De=({modalState:a,onClose:n,onSubmit:c})=>{const[l,y]=h.useState(a.providerType==="message"?"discord":"openai"),[x,j]=h.useState({}),[N,g]=h.useState({});h.useEffect(()=>{a.isOpen&&(a.isEdit&&a.provider?(y(a.provider.type),j({name:a.provider.name,...a.provider.config})):(j({name:P(l,a.providerType)}),g({})))},[a.isOpen,a.provider,a.isEdit,l,a.providerType]);const P=(s,o)=>(o==="message"?$:F)[s]?.name||"New Provider",C=()=>(a.providerType==="message"?$:F)[l],f=(s,o)=>{if(s.required&&(!o||o.toString().trim()===""))return`${s.label} is required`;if(s.validation&&o){const{min:t,max:i,pattern:m,message:S}=s.validation;if(s.type==="number"){const k=Number(o);if(t!==void 0&&k<t)return S||`${s.label} must be at least ${t}`;if(i!==void 0&&k>i)return S||`${s.label} must be at most ${i}`}if(m&&typeof o=="string"&&!new RegExp(m).test(o))return S||`${s.label} format is invalid`}return null},A=()=>{const s=C(),o={};let t=!0;return(!x.name||x.name.trim()==="")&&(o.name="Provider name is required",t=!1),[...s.requiredFields,...s.optionalFields].forEach(m=>{const S=f(m,x[m.key]);S&&(o[m.key]=S,t=!1)}),g(o),t},w=s=>{if(s.preventDefault(),!A())return;const o=C(),t=[...o.requiredFields,...o.optionalFields],i={};t.forEach(S=>{const k=x[S.key];k!==void 0&&k!==""&&(i[S.key]=S.type==="number"?Number(k):k)});const m={name:x.name,type:l,config:i,...a.isEdit&&{id:a.provider?.id}};c(m)},d=(s,o)=>{j(t=>({...t,[s]:o})),N[s]&&g(t=>{const i={...t};return delete i[s],i})},p=s=>{const o=N[s.key],t=x[s.key]||"",i=`
      w-full
      ${o?"input-error":""}
      ${s.type==="textarea"?"textarea":"input"}
      input-bordered
    `;switch(s.type){case"password":return e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),s.required&&e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx("input",{type:"password",className:i,placeholder:s.placeholder,value:t,onChange:m=>d(s.key,m.target.value)}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key);case"number":return e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),s.required&&e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx("input",{type:"number",className:i,placeholder:s.placeholder,value:t,onChange:m=>d(s.key,m.target.value),min:s.validation?.min,max:s.validation?.max,step:s.key==="temperature"?"0.1":"1"}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key);case"select":return e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),s.required&&e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsxs("select",{className:`${i} select`,value:t,onChange:m=>d(s.key,m.target.value),children:[e.jsxs("option",{value:"",children:["Select ",s.label.toLowerCase()]}),s.options?.map(m=>e.jsx("option",{value:m,children:m},m))]}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key);case"textarea":return e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),s.required&&e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx("textarea",{className:i,placeholder:s.placeholder,value:t,onChange:m=>d(s.key,m.target.value),rows:4}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key);case"toggle":return e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:t||!1,onChange:m=>d(s.key,m.target.checked)})]}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key);default:return e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:s.label}),s.required&&e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx("input",{type:"text",className:i,placeholder:s.placeholder,value:t,onChange:m=>d(s.key,m.target.value)}),o&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:o})})]},s.key)}};if(!a.isOpen)return null;const u=C(),r=[...u.requiredFields,...u.optionalFields],b=Object.keys(u);return e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box max-w-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold",children:[a.isEdit?"Edit":"Add"," ",a.providerType==="message"?"Message":"LLM"," Provider"]}),e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost",onClick:n,children:e.jsx(Q,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"tabs tabs-boxed mb-6",children:b.map(s=>{const o=u[s];return e.jsxs("a",{className:`tab tab-sm flex items-center gap-2 ${l===s?"tab-active":""}`,onClick:()=>y(s),children:[e.jsx("span",{children:o.icon}),o.name]},s)})}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-control mb-4",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Provider Name"}),e.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),e.jsx("input",{type:"text",className:`input input-bordered w-full ${N.name?"input-error":""}`,placeholder:"Enter a descriptive name for this provider",value:x.name||"",onChange:s=>d("name",s.target.value)}),N.name&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:N.name})})]}),e.jsx("div",{className:"space-y-4 mb-6",children:r.map(p)}),e.jsxs("div",{className:"modal-action",children:[e.jsx(q,{type:"button",variant:"ghost",onClick:n,children:"Cancel"}),e.jsxs(q,{type:"submit",variant:"primary",children:[a.isEdit?"Update":"Add"," Provider"]})]})]})]})})},_e=()=>{const a=oe(),[n,c]=h.useState(!1),{bots:l,loading:y,error:x,createBot:j,startBot:N,stopBot:g,cloneBot:P,deleteBot:C,clearError:f}=X(),{addMessageProvider:A,addLLMProvider:w,removeProvider:d}=fe(),{modalState:p,openAddModal:u,closeModal:r}=ye(),b=[{label:"Bots",href:"/uber/bots",isActive:!0}],s=[{title:"Create New Bot",description:"Set up a new bot instance with custom configuration",icon:e.jsx(O,{className:"w-10 h-10"}),action:()=>c(!0),color:"primary"},{title:"Bot Templates",description:"Browse pre-configured templates for quick bot setup",icon:e.jsx(ce,{className:"w-10 h-10"}),action:()=>a("/uber/bots/templates"),color:"secondary"},{title:"Provider Settings",description:"Configure global message and LLM provider settings",icon:e.jsx(_,{className:"w-10 h-10"}),action:()=>a("/uber/providers"),color:"accent"}],o=(v,E)=>{j(v,E),c(!1)},t=async v=>{await N(v)},i=async v=>{await g(v)},m=v=>{P(v)},S=v=>{window.confirm("Are you sure you want to delete this bot?")&&C(v)},k=v=>{a(`/uber/bots/${v}/configure`)},T=(v,E)=>{u(v,E)},D=(v,E)=>{window.confirm("Are you sure you want to remove this provider?")&&d(v,E)},M=v=>{p.botId&&(p.providerType==="message"?A(p.botId,v.type,v.name,v.config):w(p.botId,v.type,v.name,v.config),r())};return e.jsxs("div",{className:"p-6",children:[e.jsx(te,{items:b}),e.jsxs("div",{className:"mt-4 mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bot Management"}),e.jsx("p",{className:"text-base-content/70",children:"Manage your bot instances, create new bots, and configure settings"})]}),x&&e.jsxs("div",{className:"alert alert-error mb-6",children:[e.jsx("span",{children:x}),e.jsx("button",{className:"btn btn-sm btn-ghost ml-auto",onClick:f,children:"âœ•"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s.map((v,E)=>e.jsx(U,{className:"bg-base-100 shadow-xl border border-base-300",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`text-${v.color} mb-2`,children:v.icon}),e.jsx("h2",{className:"card-title justify-center text-lg",children:v.title}),e.jsx("p",{className:"text-sm text-base-content/60 mt-2",children:v.description})]}),e.jsx("div",{className:"card-actions justify-center",children:e.jsx(q,{variant:v.color,onClick:v.action,className:"w-full",children:v.title.split(" ")[0]})})]})},E))}),n&&e.jsx(U,{className:"bg-base-100 shadow-xl border border-base-300 mb-8",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-xl mb-4",children:"Create New Bot"}),e.jsx(Be,{onSubmit:o,onCancel:()=>c(!1)})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Your Bots"}),e.jsxs("div",{className:"text-sm text-base-content/60",children:[l.length," bot",l.length!==1?"s":""," configured"]})]}),y?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})}):l.length===0?e.jsx(U,{className:"bg-base-100/50 border border-dashed border-base-300",children:e.jsxs("div",{className:"card-body text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¤–"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No bots configured yet"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:"Get started by creating your first bot instance"}),e.jsxs(q,{variant:"primary",onClick:()=>c(!0),children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Create Your First Bot"]})]})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(v=>e.jsx(Oe,{bot:v,onStartBot:t,onStopBot:i,onConfigureBot:k,onCloneBot:m,onDeleteBot:S,onAddProvider:T,onRemoveProvider:D},v.id))})]}),e.jsx(De,{modalState:p,onClose:r,onSubmit:M})]})};export{_e as default};
