import{an as T,r as o,j as e}from"./index-RnQI40tk.js";import{A as w}from"./AlertPanel-Dt4J9UkV.js";import{S as B}from"./StatusCard-CPnoqqGm.js";import"./react-Dqn7FESC.js";import"./redux-CHunf9nH.js";import"./charts-BQCo6uAH.js";import"./router-muBVCOlq.js";const P=()=>{const{alerts:i,performanceMetrics:u}=T(),[a,p]=o.useState({refreshInterval:5e3,logLevel:"info",maxConnections:1e3,enableDebugMode:!1,enableAutoBackup:!0,backupInterval:24*60*60*1e3,alertThresholds:{cpu:80,memory:85,disk:90,responseTime:500}}),[c,d]=o.useState([]),[b,h]=o.useState(!1),[n,m]=o.useState("alerts"),[x,g]=o.useState(!1);o.useEffect(()=>{j(),f()},[]);const j=async()=>{try{p({refreshInterval:5e3,logLevel:"info",maxConnections:1e3,enableDebugMode:!1,enableAutoBackup:!0,backupInterval:864e5,alertThresholds:{cpu:80,memory:85,disk:90,responseTime:500}})}catch(s){console.error("Failed to fetch system config:",s)}},f=async()=>{try{const s=[{id:"1",timestamp:new Date(Date.now()-36e5).toISOString(),size:"245 MB",type:"automatic",status:"success",description:"Scheduled daily backup"},{id:"2",timestamp:new Date(Date.now()-9e7).toISOString(),size:"238 MB",type:"automatic",status:"success",description:"Scheduled daily backup"},{id:"3",timestamp:new Date(Date.now()-1764e5).toISOString(),size:"231 MB",type:"manual",status:"success",description:"Manual backup before update"},{id:"4",timestamp:new Date(Date.now()-2628e5).toISOString(),size:"226 MB",type:"automatic",status:"failed",description:"Scheduled daily backup - insufficient space"}];d(s)}catch(s){console.error("Failed to fetch backup history:",s)}},r=async(s,l)=>{g(!0);try{const t={...a,[s]:l};p(t),console.log("Configuration updated:",t)}catch(t){console.error("Failed to update configuration:",t)}finally{g(!1)}},N=s=>{console.log("Acknowledging alert:",s)},v=s=>{console.log("Resolving alert:",s)},y=async()=>{h(!0);try{const s={id:Date.now().toString(),timestamp:new Date().toISOString(),size:"Calculating...",type:"manual",status:"in_progress",description:"Manual backup started"};d(l=>[s,...l]),setTimeout(()=>{d(l=>l.map(t=>t.id===s.id?{...t,size:"250 MB",status:"success"}:t)),h(!1)},3e3)}catch(s){console.error("Failed to create backup:",s),h(!1)}},k=async s=>{confirm("Are you sure you want to restore this backup? This will overwrite current configuration.")&&console.log("Restoring backup:",s)},C=async s=>{confirm("Are you sure you want to delete this backup?")&&(d(l=>l.filter(t=>t.id!==s)),console.log("Deleted backup:",s))},S=[{title:"Alert Management",subtitle:"Active system alerts and notifications",status:i.some(s=>s.severity==="error")?"error":i.some(s=>s.severity==="warning")?"warning":"healthy",metrics:[{label:"Critical",value:i.filter(s=>s.severity==="error").length,icon:"🚨"},{label:"Warnings",value:i.filter(s=>s.severity==="warning").length,icon:"⚠️"},{label:"Info",value:i.filter(s=>s.severity==="info").length,icon:"ℹ️"},{label:"Acknowledged",value:i.filter(s=>s.acknowledged).length,icon:"✅"}]},{title:"Backup Status",subtitle:"System backup and recovery",status:c.some(s=>s.status==="failed")?"warning":"healthy",metrics:[{label:"Total Backups",value:c.length,icon:"💾"},{label:"Successful",value:c.filter(s=>s.status==="success").length,icon:"✅"},{label:"Failed",value:c.filter(s=>s.status==="failed").length,icon:"❌"},{label:"Last Backup",value:c.length>0?"1h ago":"Never",icon:"⏰"}]},{title:"System Resources",subtitle:"Current resource utilization",status:u.some(s=>s.cpu>80)?"warning":"healthy",metrics:[{label:"CPU Usage",value:u[0]?.cpu||0,unit:"%"},{label:"Memory",value:u[0]?.memory||0,unit:"%"},{label:"Connections",value:156,icon:"🔗"},{label:"Queue Size",value:42,icon:"📋"}]}];return e.jsxs("div",{className:"min-h-screen bg-base-200 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"System Management"}),e.jsx("p",{className:"text-lg text-neutral-content/70",children:"Manage system configuration, alerts, and backups"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{className:"btn btn-success",onClick:y,disabled:b,children:[b?e.jsx("span",{className:"loading loading-spinner loading-sm"}):"💾"," Create Backup"]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:S.map((s,l)=>e.jsx(B,{title:s.title,subtitle:s.subtitle,status:s.status,metrics:s.metrics,compact:!0},l))}),e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"tabs tabs-boxed mb-6",children:[e.jsx("button",{className:`tab ${n==="alerts"?"tab-active":""}`,onClick:()=>m("alerts"),children:"Alert Management"}),e.jsx("button",{className:`tab ${n==="config"?"tab-active":""}`,onClick:()=>m("config"),children:"System Configuration"}),e.jsx("button",{className:`tab ${n==="backups"?"tab-active":""}`,onClick:()=>m("backups"),children:"Backup Management"}),e.jsx("button",{className:`tab ${n==="performance"?"tab-active":""}`,onClick:()=>m("performance"),children:"Performance Tuning"})]}),n==="alerts"&&e.jsx(w,{alerts:i.map((s,l)=>({id:s.id||`alert-${l}`,type:s.severity||"info",title:s.title||"System Alert",message:s.message||"",timestamp:s.timestamp||new Date().toISOString(),source:s.source||"System",acknowledged:s.acknowledged,metadata:s.metadata})),onAcknowledge:N,onResolve:v,maxAlerts:20}),n==="config"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"System Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Refresh Interval (ms)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.refreshInterval,onChange:s=>r("refreshInterval",Number(s.target.value)),min:"1000",max:"60000"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Log Level"})}),e.jsxs("select",{className:"select select-bordered",value:a.logLevel,onChange:s=>r("logLevel",s.target.value),children:[e.jsx("option",{value:"debug",children:"Debug"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warn",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Max Connections"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.maxConnections,onChange:s=>r("maxConnections",Number(s.target.value)),min:"100",max:"10000"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Backup Interval (hours)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.backupInterval/(1e3*60*60),onChange:s=>r("backupInterval",Number(s.target.value)*1e3*60*60),min:"1",max:"168"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Alert Thresholds"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"CPU Usage Threshold (%)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.alertThresholds.cpu,onChange:s=>r("alertThresholds",{...a.alertThresholds,cpu:Number(s.target.value)}),min:"50",max:"95"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Memory Usage Threshold (%)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.alertThresholds.memory,onChange:s=>r("alertThresholds",{...a.alertThresholds,memory:Number(s.target.value)}),min:"50",max:"95"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Disk Usage Threshold (%)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.alertThresholds.disk,onChange:s=>r("alertThresholds",{...a.alertThresholds,disk:Number(s.target.value)}),min:"50",max:"95"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Response Time Threshold (ms)"})}),e.jsx("input",{type:"number",className:"input input-bordered",value:a.alertThresholds.responseTime,onChange:s=>r("alertThresholds",{...a.alertThresholds,responseTime:Number(s.target.value)}),min:"100",max:"5000"})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{className:"btn btn-primary",disabled:x,children:[x?e.jsx("span",{className:"loading loading-spinner loading-sm"}):"💾"," Save Configuration"]}),e.jsx("button",{className:"btn btn-ghost",onClick:j,children:"🔄 Reset"})]})]}),n==="backups"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Backup History"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Timestamp"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Size"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:c.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(s.timestamp).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.type==="manual"?"badge-info":"badge-neutral"}`,children:s.type})}),e.jsx("td",{children:s.size}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.status==="success"?"badge-success":s.status==="failed"?"badge-error":"badge-warning"}`,children:s.status})}),e.jsx("td",{children:s.description}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-xs btn-primary",onClick:()=>k(s.id),disabled:s.status!=="success",children:"Restore"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>C(s.id),children:"Delete"})]})})]},s.id))})]})})]}),n==="performance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Performance Tuning"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Cache TTL (seconds)"})}),e.jsx("input",{type:"number",className:"input input-bordered",defaultValue:"300",min:"60",max:"3600"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Max Cache Size (MB)"})}),e.jsx("input",{type:"number",className:"input input-bordered",defaultValue:"512",min:"64",max:"2048"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Connection Pool Size"})}),e.jsx("input",{type:"number",className:"input input-bordered",defaultValue:"20",min:"5",max:"100"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Request Timeout (seconds)"})}),e.jsx("input",{type:"number",className:"input input-bordered",defaultValue:"30",min:"5",max:"300"})]})]}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Enable Performance Monitoring"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary",defaultChecked:!0})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Enable Query Optimization"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary",defaultChecked:!0})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Enable Response Compression"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary",defaultChecked:!0})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"btn btn-primary",children:"⚙️ Apply Performance Settings"}),e.jsx("button",{className:"btn btn-ghost",children:"🔄 Reset to Defaults"})]})]})]})})]})};export{P as default};
