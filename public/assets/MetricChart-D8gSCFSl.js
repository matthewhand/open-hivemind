import{r as o,j as e}from"./index-CfW5Kmkv.js";import{L as b,b as g,A as M,B as j}from"./charts-BtkXjvbr.js";const z=({title:u,data:f,type:C="line",height:D=300,color:r="#3b82f6",unit:N="",showGrid:T=!0,showLegend:E=!0,showTooltip:K=!0,refreshInterval:l,onRefresh:m,className:V=""})=>{const[i,w]=o.useState([]),[y,h]=o.useState(!1),[v,S]=o.useState(null);o.useEffect(()=>{const n=f.map(t=>({time:new Date(t.timestamp).toLocaleTimeString(),value:t.value,label:t.label||"",category:t.category||"default"}));w(n)},[f]),o.useEffect(()=>{if(l&&m){const n=setInterval(()=>{h(!0),m(),setTimeout(()=>h(!1),1e3)},l);return()=>clearInterval(n)}},[l,m]);const k=()=>{const n={data:i,width:800,height:D-50,margin:{top:5,right:30,left:20,bottom:5}};switch(C){case"bar":return e.jsxDEV(j,{...n,children:e.jsxDEV(j,{dataKey:"value",fill:r},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:78,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:77,columnNumber:11},void 0);case"area":return e.jsxDEV(M,{...n,children:e.jsxDEV(M,{type:"monotone",dataKey:"value",stroke:r,fill:r,fillOpacity:.3},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:84,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:83,columnNumber:11},void 0);case"pie":return e.jsxDEV(g,{...n,children:e.jsxDEV(g,{dataKey:"value",cx:n.width/2,cy:n.height/2,outerRadius:80,fill:r},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:89,columnNumber:11},void 0);default:return e.jsxDEV(b,{...n,children:e.jsxDEV(b,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:101,columnNumber:11},void 0)}},L=()=>i.length===0?"0":`${i[i.length-1].value}${N}`,A=()=>{if(i.length===0)return"0";const n=i.reduce((t,c)=>t+c.value,0);return`${Math.round(n/i.length)}${N}`},s=(()=>{if(i.length<2)return"stable";const n=i.slice(-5),t=i.slice(-10,-5);if(n.length===0||t.length===0)return"stable";const c=n.reduce((d,a)=>d+a.value,0)/n.length,x=t.reduce((d,a)=>d+a.value,0)/t.length,p=(c-x)/x*100;return p>5?"up":p<-5?"down":"stable"})(),$=s==="up"?"text-success":s==="down"?"text-error":"text-neutral";return e.jsxDEV("div",{className:`card bg-base-100 shadow-xl ${V}`,children:e.jsxDEV("div",{className:"card-body",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"card-title text-lg",children:u},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:145,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-2",children:[e.jsxDEV("div",{className:"stat-value text-2xl",children:L()},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:147,columnNumber:15},void 0),e.jsxDEV("div",{className:"stat-desc",children:["Avg: ",A()]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:148,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:144,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[y&&e.jsxDEV("div",{className:"loading loading-spinner loading-sm"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:153,columnNumber:15},void 0),e.jsxDEV("div",{className:`flex items-center gap-1 ${$}`,children:[s==="up"&&e.jsxDEV("span",{className:"text-lg",children:"â†‘"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:156,columnNumber:34},void 0),s==="down"&&e.jsxDEV("span",{className:"text-lg",children:"â†“"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:157,columnNumber:36},void 0),s==="stable"&&e.jsxDEV("span",{className:"text-lg",children:"â†’"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:158,columnNumber:38},void 0),e.jsxDEV("span",{className:"text-xs",children:s},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:159,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:143,columnNumber:9},void 0),v&&e.jsxDEV("div",{className:"alert alert-error mb-4",children:[e.jsxDEV("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:167,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:166,columnNumber:13},void 0),e.jsxDEV("span",{children:v},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:169,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full overflow-x-auto",children:i.length>0?e.jsxDEV("div",{className:"flex justify-center",children:k()},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:175,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-48 text-neutral-content/50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-4xl mb-2",children:"ðŸ“Š"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:181,columnNumber:17},void 0),e.jsxDEV("p",{children:"No data available"},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:182,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:180,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:173,columnNumber:9},void 0),E&&i.length>0&&e.jsxDEV("div",{className:"mt-4 flex justify-center",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r}},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:191,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-sm text-neutral-content/70",children:u},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:192,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:190,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:142,columnNumber:7},void 0)},void 0,!1,{fileName:"/mnt/models/open-hivemind/src/client/src/components/Monitoring/MetricChart.tsx",lineNumber:141,columnNumber:5},void 0)};export{z as M};
