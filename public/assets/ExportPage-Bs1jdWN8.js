import{o as p,f as d,r as x,j as e,B as h,T as i,P as u,U as j,W as I,X as w,b as y,ao as f,Y as b,A as v}from"./index-RnQI40tk.js";import{L as A}from"./ListItemIcon-BP1evcdG.js";import"./react-Dqn7FESC.js";import"./redux-CHunf9nH.js";import"./charts-BQCo6uAH.js";import"./router-muBVCOlq.js";import"./listItemIconClasses-DBQaSeYT.js";const L=p(d.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"})),P=p(d.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),z=()=>{const[s,a]=x.useState({open:!1,message:"",severity:"success"}),r=async o=>{try{const t=await fetch(`/webui/api/openapi.${o}`);if(!t.ok)throw new Error("Failed to download OpenAPI spec");const m=await t.blob(),c=window.URL.createObjectURL(m),n=document.createElement("a");n.href=c,n.download=`openapi-spec.${o}`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(c),document.body.removeChild(n),a({open:!0,message:`OpenAPI ${o.toUpperCase()} spec downloaded successfully`,severity:"success"})}catch(t){a({open:!0,message:t instanceof Error?t.message:"Failed to download OpenAPI spec",severity:"error"})}},l=[{title:"OpenAPI JSON",description:"Download the complete API specification in JSON format",icon:e.jsx(L,{}),action:()=>r("json")},{title:"OpenAPI YAML",description:"Download the complete API specification in YAML format",icon:e.jsx(P,{}),action:()=>r("yaml")}];return e.jsxs(h,{children:[e.jsx(i,{variant:"h4",component:"h1",gutterBottom:!0,children:"Export & Documentation"}),e.jsx(i,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Download API specifications and system documentation for integration and development."}),e.jsxs(u,{sx:{p:3},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"API Specifications"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Export the OpenAPI specification for the Open-Hivemind WebUI API endpoints."}),e.jsx(j,{children:l.map((o,t)=>e.jsxs(I,{sx:{px:0},children:[e.jsx(A,{children:o.icon}),e.jsx(w,{primary:o.title,secondary:o.description}),e.jsx(y,{variant:"outlined",startIcon:e.jsx(f,{}),onClick:o.action,sx:{ml:2},children:"Download"})]},t))})]}),e.jsx(b,{open:s.open,autoHideDuration:6e3,onClose:()=>a({...s,open:!1}),children:e.jsx(v,{onClose:()=>a({...s,open:!1}),severity:s.severity,sx:{width:"100%"},children:s.message})})]})};export{z as default};
