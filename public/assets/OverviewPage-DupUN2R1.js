import{g as de,d as me,u as ue,e as pe,f as h,s as k,h as p,i as he,m as z,k as I,l as O,n as q,o as U,r as x,p as _,j as e,B as n,c as J,q as Q,A as fe,E as be,T as i,I as xe,R as ge,C as S,a as L,t as C}from"./index-RnQI40tk.js";import{T as Y}from"./TrendingUp-RKLNYHtx.js";import{T as ve}from"./Tooltip-Dgbn0XIi.js";import{T as ye,a as Z}from"./Tabs-RiEAIXaj.js";import{G as f}from"./Grid-CKtzxHFY.js";import{r as je}from"./redux-CHunf9nH.js";import{c as Ce}from"./charts-BQCo6uAH.js";import"./react-Dqn7FESC.js";import"./router-muBVCOlq.js";import"./useControlled-BELcKehV.js";import"./useSlotProps-CNI6Fs2q.js";function $e(t){return de("MuiLinearProgress",t)}me("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const H=4,A=q`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Pe=typeof A!="string"?O`
        animation: ${A} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,E=q`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Ie=typeof E!="string"?O`
        animation: ${E} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,N=q`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Ue=typeof N!="string"?O`
        animation: ${N} 3s infinite linear;
      `:null,Be=t=>{const{classes:r,variant:a,color:o}=t,b={root:["root",`color${p(o)}`,a],dashed:["dashed",`dashedColor${p(o)}`],bar1:["bar","bar1",`barColor${p(o)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",a!=="buffer"&&`barColor${p(o)}`,a==="buffer"&&`color${p(o)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return he(b,$e,r)},V=(t,r)=>t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[r].main,.62):t.darken(t.palette[r].main,.5),Me=k("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,r[`color${p(a.color)}`],r[a.variant]]}})(z(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(I()).map(([r])=>({props:{color:r},style:{backgroundColor:V(t,r)}})),{props:({ownerState:r})=>r.color==="inherit"&&r.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Se=k("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.dashed,r[`dashedColor${p(a.color)}`]]}})(z(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(I()).map(([r])=>{const a=V(t,r);return{props:{color:r},style:{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`}}})]})),Ue||{animation:`${N} 3s infinite linear`}),Le=k("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.bar,r.bar1,r[`barColor${p(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&r.bar1Indeterminate,a.variant==="determinate"&&r.bar1Determinate,a.variant==="buffer"&&r.bar1Buffer]}})(z(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(I()).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main}})),{props:{variant:"determinate"},style:{transition:`transform .${H}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${H}s linear`}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Pe||{animation:`${A} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),ke=k("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.bar,r.bar2,r[`barColor${p(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&r.bar2Indeterminate,a.variant==="buffer"&&r.bar2Buffer]}})(z(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(I()).map(([r])=>({props:{color:r},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[r].main}})),{props:({ownerState:r})=>r.variant!=="buffer"&&r.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:r})=>r.variant!=="buffer"&&r.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(I()).map(([r])=>({props:{color:r,variant:"buffer"},style:{backgroundColor:V(t,r),transition:`transform .${H}s linear`}})),{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Ie||{animation:`${E} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ee=je.forwardRef(function(r,a){const o=ue({props:r,name:"MuiLinearProgress"}),{className:b,color:R="primary",value:g,valueBuffer:$,variant:d="indeterminate",...B}=o,m={...o,color:R,variant:d},v=Be(m),P=pe(),y={},j={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&g!==void 0){y["aria-valuenow"]=Math.round(g),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let u=g-100;P&&(u=-u),j.bar1.transform=`translateX(${u}%)`}if(d==="buffer"&&$!==void 0){let u=($||0)-100;P&&(u=-u),j.bar2.transform=`translateX(${u}%)`}return h.jsxs(Me,{className:Ce(v.root,b),ownerState:m,role:"progressbar",...y,ref:a,...B,children:[d==="buffer"?h.jsx(Se,{className:v.dashed,ownerState:m}):null,h.jsx(Le,{className:v.bar1,ownerState:m,style:j.bar1}),d==="determinate"?null:h.jsx(ke,{className:v.bar2,ownerState:m,style:j.bar2})]})}),ze=U(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Re=U(h.jsx("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"})),Te=U(h.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),we=U(h.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"})),De=U(h.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}));function re(t){const{children:r,value:a,index:o,...b}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==o,id:`dashboard-tabpanel-${o}`,"aria-labelledby":`dashboard-tab-${o}`,...b,children:a===o&&e.jsx(n,{sx:{p:3},children:r})})}const He=()=>{const[t,r]=x.useState([]),[a,o]=x.useState(null),[b,R]=x.useState(!0),[g,$]=x.useState(null),[d,B]=x.useState(!1),[m,v]=x.useState(0);x.useEffect(()=>{P()},[]);const P=async()=>{try{const[s,c]=await Promise.all([_.getConfig(),_.getStatus()]);r(s.bots),o(c)}catch(s){$(s instanceof Error?s.message:"Failed to load data")}finally{R(!1)}},y=async()=>{B(!0);try{await P()}catch(s){$(s instanceof Error?s.message:"Failed to refresh data")}finally{B(!1)}},j=(s,c)=>{v(c)},u=s=>{switch(s.toLowerCase()){case"active":return"success";case"connecting":return"warning";case"inactive":case"unavailable":return"error";case"error":return"error";default:return"default"}},te=s=>{switch(s.toLowerCase()){case"discord":return"ðŸ¤–";case"slack":return"ðŸ’¬";case"mattermost":return"ðŸ“±";default:return"ðŸ”§"}};if(b)return e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(J,{})});if(g)return e.jsx(Q,{maxWidth:"lg",sx:{mt:4},children:e.jsx(fe,{severity:"error",children:g})});const F=a?.bots.filter(s=>s.status==="active").length||0,T=t.length,w=a?.bots.reduce((s,c)=>s+(c.messageCount||0),0)||0,ae=a?.bots.reduce((s,c)=>s+(c.errorCount||0),0)||0,D=w>0?(ae/w*100).toFixed(2):"0.00",l={cpuUsage:Math.random()*100,memoryUsage:Math.random()*100,responseTime:Math.random()*200+50,activeConnections:a?.bots.filter(s=>s.connected).length||0},K=a?.uptime||0,se=Math.floor(K/3600),ne=Math.floor(K%3600/60),oe=`${se}h ${ne}m`,ie=[{title:"Active Bots",value:`${F}/${T}`,icon:e.jsx(ze,{color:"success"}),helper:T>0?`${T-F} offline`:"No bots configured"},{title:"Total Messages",value:w.toLocaleString(),icon:e.jsx(Te,{color:"primary"}),helper:`${l.activeConnections} active connections`},{title:"Error Rate",value:`${D}%`,icon:e.jsx(be,{color:parseFloat(D)>2?"error":"warning"}),helper:parseFloat(D)>2?"High error rate":"Normal operation"},{title:"Uptime",value:oe,icon:e.jsx(Y,{color:"success"}),helper:"System running continuously"}],le=[{title:"CPU Usage",value:`${l.cpuUsage.toFixed(1)}%`,icon:e.jsx(Y,{color:l.cpuUsage>80?"error":"primary"}),helper:l.cpuUsage>80?"High CPU usage":"Normal CPU usage"},{title:"Memory Usage",value:`${l.memoryUsage.toFixed(1)}%`,icon:e.jsx(Re,{color:l.memoryUsage>80?"error":"primary"}),helper:l.memoryUsage>80?"High memory usage":"Normal memory usage"},{title:"Response Time",value:`${l.responseTime.toFixed(1)} ms`,icon:e.jsx(we,{color:"secondary"}),helper:"Average response time"},{title:"Active Connections",value:l.activeConnections.toString(),icon:e.jsx(De,{color:"info"}),helper:"Connected bot instances"}];return e.jsxs(Q,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsxs(n,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(i,{variant:"h4",component:"h1",children:"Open-Hivemind Dashboard"}),e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[d&&e.jsx(J,{size:20}),e.jsx(ve,{title:"Refresh Data",children:e.jsx("span",{children:e.jsx(xe,{onClick:y,disabled:d,children:e.jsx(ge,{})})})})]})]}),e.jsx(n,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ye,{value:m,onChange:j,"aria-label":"dashboard tabs",children:[e.jsx(Z,{label:"Overview",id:"dashboard-tab-0","aria-controls":"dashboard-tabpanel-0"}),e.jsx(Z,{label:"Performance",id:"dashboard-tab-1","aria-controls":"dashboard-tabpanel-1"})]})}),e.jsx(re,{value:m,index:0,children:e.jsxs(f,{container:!0,spacing:3,children:[ie.map((s,c)=>e.jsx(f,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{children:e.jsx(L,{children:e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[s.icon,e.jsxs(n,{children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",children:s.title}),e.jsx(i,{variant:"h5",component:"p",children:s.value}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s.helper})]})]})})})},c)),e.jsxs(f,{item:!0,xs:12,children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Bot Status"}),e.jsx(f,{container:!0,spacing:2,children:t.map((s,c)=>{const M=a?.bots[c],W=M?.status||"unknown",G=M?.connected??!1,ce=M?.messageCount||0,X=M?.errorCount||0;return e.jsx(f,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(S,{children:e.jsxs(L,{children:[e.jsxs(n,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(i,{variant:"h6",component:"h2",sx:{mr:1},children:te(s.messageProvider)}),e.jsx(i,{variant:"h6",component:"h2",children:s.name})]}),e.jsxs(n,{mb:2,children:[e.jsx(C,{label:`Provider: ${s.messageProvider}`,size:"small",sx:{mr:1,mb:1}}),e.jsx(C,{label:`LLM: ${s.llmProvider}`,size:"small",sx:{mb:1}})]}),e.jsxs(n,{display:"flex",alignItems:"center",mb:1,children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mr:1},children:"Status:"}),e.jsx(C,{label:W,color:u(W),size:"small"})]}),e.jsxs(n,{display:"flex",alignItems:"center",gap:1,mb:1,children:[e.jsx(C,{label:G?"Connected":"Disconnected",color:G?"success":"warning",size:"small"}),e.jsx(C,{label:`Messages: ${ce}`,size:"small"}),X>0&&e.jsx(C,{label:`Errors: ${X}`,color:"error",size:"small"})]})]})})},s.name)})})]})]})}),e.jsx(re,{value:m,index:1,children:e.jsxs(f,{container:!0,spacing:3,children:[le.map((s,c)=>e.jsx(f,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{children:e.jsx(L,{children:e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[s.icon,e.jsxs(n,{children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",children:s.title}),e.jsx(i,{variant:"h5",component:"p",children:s.value}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s.helper})]})]})})})},c)),e.jsx(f,{item:!0,xs:12,children:e.jsx(S,{children:e.jsxs(L,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Performance Metrics"}),e.jsxs(n,{sx:{height:300,display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"CPU Usage"}),e.jsx(ee,{variant:"determinate",value:l.cpuUsage,color:l.cpuUsage>80?"error":"primary"})]}),e.jsxs(n,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Memory Usage"}),e.jsx(ee,{variant:"determinate",value:l.memoryUsage,color:l.memoryUsage>80?"error":"primary"})]}),e.jsx(n,{sx:{mt:2},children:e.jsx(i,{variant:"body1",color:"text.secondary",children:"Real-time performance charts and detailed metrics will be displayed here."})})]})]})})})]})})]})},_e=()=>e.jsx(He,{});export{_e as default};
