import{d as W,g as H,u as F,aj as C,s as j,av as te,f as m,i as q,P as re,m as I,aq as ae,o as ne,r as k,j as o,B as R,T as E,b as L,R as ie,c as le,A as z,C as ce,a as de,aw as pe,S as O,x as ue,ax as me,Y as xe,q as ge}from"./index-RnQI40tk.js";import{r as g}from"./redux-CHunf9nH.js";import{c as $}from"./charts-BQCo6uAH.js";import{u as fe}from"./useControlled-BELcKehV.js";import"./react-Dqn7FESC.js";import"./router-muBVCOlq.js";const Y=g.createContext({});function he(e){return H("MuiAccordion",e)}const B=W("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),ye=e=>{const{classes:s,square:r,expanded:a,disabled:i,disableGutters:p}=e;return q({root:["root",!r&&"rounded",a&&"expanded",i&&"disabled",!p&&"gutters"],heading:["heading"],region:["region"]},he,s)},be=j(re,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${B.region}`]:s.region},s.root,!r.square&&s.rounded,!r.disableGutters&&s.gutters]}})(I(({theme:e})=>{const s={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],s),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],s)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${B.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${B.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),I(({theme:e})=>({variants:[{props:s=>!s.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:s=>!s.disableGutters,style:{[`&.${B.expanded}`]:{margin:"16px 0"}}}]}))),ve=j("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),Ce=j("div",{name:"MuiAccordion",slot:"Region"})({}),je=g.forwardRef(function(s,r){const a=F({props:s,name:"MuiAccordion"}),{children:i,className:p,defaultExpanded:n=!1,disabled:l=!1,disableGutters:u=!1,expanded:x,onChange:f,square:P=!1,slots:S={},slotProps:t={},TransitionComponent:c,TransitionProps:T,...D}=a,[d,h]=fe({controlled:x,default:n,name:"Accordion",state:"expanded"}),A=g.useCallback(se=>{h(!d),f&&f(se,!d)},[d,f,h]),[N,...G]=g.Children.toArray(i),U=g.useMemo(()=>({expanded:d,disabled:l,disableGutters:u,toggle:A}),[d,l,u,A]),y={...a,square:P,disabled:l,disableGutters:u,expanded:d},M=ye(y),V={transition:c,...S},b={transition:T,...t},v={slots:V,slotProps:b},[J,K]=C("root",{elementType:be,externalForwardedProps:{...v,...D},className:$(M.root,p),shouldForwardComponentProp:!0,ownerState:y,ref:r,additionalProps:{square:P}}),[Q,X]=C("heading",{elementType:ve,externalForwardedProps:v,className:M.heading,ownerState:y}),[Z,_]=C("transition",{elementType:te,externalForwardedProps:v,ownerState:y}),[ee,oe]=C("region",{elementType:Ce,externalForwardedProps:v,ownerState:y,className:M.region,additionalProps:{"aria-labelledby":N.props.id,id:N.props["aria-controls"],role:"region"}});return m.jsxs(J,{...K,children:[m.jsx(Q,{...X,children:m.jsx(Y.Provider,{value:U,children:N})}),m.jsx(Z,{in:d,timeout:"auto",..._,children:m.jsx(ee,{...oe,children:G})})]})});function Pe(e){return H("MuiAccordionDetails",e)}W("MuiAccordionDetails",["root"]);const Se=e=>{const{classes:s}=e;return q({root:["root"]},Pe,s)},Ae=j("div",{name:"MuiAccordionDetails",slot:"Root"})(I(({theme:e})=>({padding:e.spacing(1,2,2)}))),Re=g.forwardRef(function(s,r){const a=F({props:s,name:"MuiAccordionDetails"}),{className:i,...p}=a,n=a,l=Se(n);return m.jsx(Ae,{className:$(l.root,i),ref:r,ownerState:n,...p})});function we(e){return H("MuiAccordionSummary",e)}const w=W("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ie=e=>{const{classes:s,expanded:r,disabled:a,disableGutters:i}=e;return q({root:["root",r&&"expanded",a&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},we,s)},Ne=j(ae,{name:"MuiAccordionSummary",slot:"Root"})(I(({theme:e})=>{const s={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],s),[`&.${w.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${w.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${w.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${w.expanded}`]:{minHeight:64}}}]}})),Me=j("span",{name:"MuiAccordionSummary",slot:"Content"})(I(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:s=>!s.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${w.expanded}`]:{margin:"20px 0"}}}]}))),ke=j("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(I(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${w.expanded}`]:{transform:"rotate(180deg)"}}))),Ee=g.forwardRef(function(s,r){const a=F({props:s,name:"MuiAccordionSummary"}),{children:i,className:p,expandIcon:n,focusVisibleClassName:l,onClick:u,slots:x,slotProps:f,...P}=a,{disabled:S=!1,disableGutters:t,expanded:c,toggle:T}=g.useContext(Y),D=b=>{T&&T(b),u&&u(b)},d={...a,expanded:c,disabled:S,disableGutters:t},h=Ie(d),A={slots:x,slotProps:f},[N,G]=C("root",{ref:r,shouldForwardComponentProp:!0,className:$(h.root,p),elementType:Ne,externalForwardedProps:{...A,...P},ownerState:d,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:S,"aria-expanded":c,focusVisibleClassName:$(h.focusVisible,l)},getSlotProps:b=>({...b,onClick:v=>{b.onClick?.(v),D(v)}})}),[U,y]=C("content",{className:h.content,elementType:Me,externalForwardedProps:A,ownerState:d}),[M,V]=C("expandIconWrapper",{className:h.expandIconWrapper,elementType:ke,externalForwardedProps:A,ownerState:d});return m.jsxs(N,{...G,children:[m.jsx(U,{...y,children:i}),n&&m.jsx(M,{...V,children:n})]})}),Te=ne(m.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),Be=({bot:e,onSave:s})=>{const[r,a]=k.useState(!1),[i,p]=k.useState(null),[n,l]=k.useState({open:!1,message:"",severity:"success"}),[u,x]=k.useState({messageProvider:"",llmProvider:"",persona:"",systemInstruction:""}),f=["discord","slack","mattermost"],P=["openai","flowise","openwebui","openswarm","perplexity","replicate","n8n"];k.useEffect(()=>{e&&x({messageProvider:e.messageProvider||"",llmProvider:e.llmProvider||"",persona:e.persona||"",systemInstruction:e.systemInstruction||""})},[e]);const S=async()=>{if(e)try{a(!0),p(null),l({open:!0,message:"Configuration saved successfully",severity:"success"}),s?.(e)}catch(t){p(t instanceof Error?t.message:"Failed to save configuration"),l({open:!0,message:t instanceof Error?t.message:"Failed to save configuration",severity:"error"})}finally{a(!1)}};return e?o.jsxs(R,{children:[o.jsxs(R,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsxs(E,{variant:"h5",component:"h2",children:["Configuration Editor - ",e.name]}),o.jsxs(R,{display:"flex",gap:1,children:[o.jsx(L,{variant:"outlined",startIcon:o.jsx(ie,{}),onClick:()=>window.location.reload(),children:"Refresh"}),o.jsx(L,{variant:"contained",startIcon:o.jsx(Te,{}),onClick:S,disabled:r,children:r?o.jsx(le,{size:20}):"Save Configuration"})]})]}),i&&o.jsx(z,{severity:"error",sx:{mb:2},children:i}),o.jsx(ce,{children:o.jsxs(de,{children:[o.jsxs(E,{variant:"h6",gutterBottom:!0,children:[o.jsx(pe,{sx:{mr:1,verticalAlign:"middle"}}),"Basic Configuration"]}),o.jsxs(R,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs("div",{className:"form-control w-full",children:[o.jsx("label",{className:"label",children:o.jsx("span",{className:"label-text",children:"Message Provider"})}),o.jsx(O,{options:f.map(t=>({value:t,label:t.charAt(0).toUpperCase()+t.slice(1)})),value:u.messageProvider,onChange:t=>x(c=>({...c,messageProvider:t.target.value}))})]}),o.jsxs("div",{className:"form-control w-full",children:[o.jsx("label",{className:"label",children:o.jsx("span",{className:"label-text",children:"LLM Provider"})}),o.jsx(O,{options:P.map(t=>({value:t,label:t.charAt(0).toUpperCase()+t.slice(1)})),value:u.llmProvider,onChange:t=>x(c=>({...c,llmProvider:t.target.value}))})]}),o.jsxs("div",{className:"form-control w-full",children:[o.jsx("label",{className:"label",children:o.jsx("span",{className:"label-text",children:"Persona"})}),o.jsx(ue,{value:u.persona,onChange:t=>x(c=>({...c,persona:t.target.value})),placeholder:"Enter persona"})]}),o.jsxs("div",{className:"form-control w-full",children:[o.jsx("label",{className:"label",children:o.jsx("span",{className:"label-text",children:"System Instruction"})}),o.jsx("textarea",{className:"textarea textarea-bordered w-full",rows:3,value:u.systemInstruction,onChange:t=>x(c=>({...c,systemInstruction:t.target.value})),placeholder:"Enter system instruction"})]})]})]})}),o.jsxs(je,{children:[o.jsx(Ee,{expandIcon:o.jsx(me,{}),children:o.jsx(E,{variant:"h6",children:"Advanced Settings"})}),o.jsx(Re,{children:o.jsx(E,{variant:"body2",color:"text.secondary",children:"Advanced configuration options will be available here in a future update."})})]}),o.jsx(xe,{open:n.open,autoHideDuration:6e3,onClose:()=>l({...n,open:!1}),children:o.jsx(z,{onClose:()=>l({...n,open:!1}),severity:n.severity,sx:{width:"100%"},children:n.message})})]}):o.jsx(R,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:o.jsx(E,{variant:"body1",color:"text.secondary",children:"Select a bot to edit its configuration"})})},He=()=>o.jsx(ge,{maxWidth:"xl",children:o.jsx(R,{sx:{py:3},children:o.jsx(Be,{})})});export{He as default};
